
<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ³Øª Ù„Ø¨Ù‡ ÙØ±Ù… ÙˆØ±ÙˆØ¯ÛŒ - form_input_edge.html</title>
    <style>
        body {
            font-family: 'Vazir', 'Tahoma', sans-serif;
            background-color: #f5f7fa;
            margin: 0;
            padding: 20px;
            color: #2c3e50;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.1);
            padding: 24px;
        }
        h1 {
            font-size: 1.5rem;
            margin-top: 0;
            color: #1e293b;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 12px;
        }
        .test-section {
            background: #f8fafc;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 20px;
            border: 1px solid #e2e8f0;
        }
        .test-title {
            font-weight: bold;
            font-size: 1.1rem;
            margin-bottom: 12px;
            color: #0f172a;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .test-title::before {
            content: "ğŸ§ª";
            font-size: 1.2rem;
        }
        .button-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }
        button {
            background: #e2e8f0;
            color: #1e293b;
            border: none;
            padding: 10px 18px;
            border-radius: 30px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid #cbd5e1;
            font-family: inherit;
        }
        button:hover {
            background: #cbd5e1;
            transform: translateY(-1px);
        }
        .console {
            background: #0f172a;
            color: #e2e8f0;
            padding: 16px;
            border-radius: 12px;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            direction: ltr;
            text-align: left;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
            margin-top: 20px;
            border: 2px solid #334155;
        }
        .badge {
            background: #3b82f6;
            color: white;
            padding: 4px 8px;
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: bold;
            display: inline-block;
            margin-left: 8px;
        }
        .note {
            background: #fff3cd;
            border-right: 4px solid #ffc107;
            padding: 12px;
            font-size: 0.9rem;
            margin: 16px 0;
            border-radius: 8px;
        }
        hr {
            border: none;
            border-top: 1px dashed #cbd5e1;
            margin: 16px 0;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>ğŸ“ ØªØ³Øª Ù„Ø¨Ù‡ ÙØ±Ù… ÙˆØ±ÙˆØ¯ÛŒ (Edge Cases)</h1>
    <div class="note">
        <strong>ğŸ¯ Ø§ØµÙˆÙ„ Ø±Ø¹Ø§ÛŒØª Ø´Ø¯Ù‡:</strong> Ù…Ø³ØªÙ‚Ù„ Ø§Ø² Ø§Ø¨Ø²Ø§Ø± â€¢ Ø±ÙØªØ§Ø±Ú¯Ø±Ø§ â€¢ Ù‚Ø·Ø¹ÛŒ â€¢ ØªÚ©â€ŒØ§Ø¯Ø¹Ø§ â€¢ Ø§ÛŒØ²ÙˆÙ„Ù‡ â€¢ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§ â€¢ Ø®Ø·Ø§ÛŒ ÙˆØ§Ø¶Ø­
    </div>

    <!-- Ù…Ø§Ú˜ÙˆÙ„ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø´Ø¯Ù‡ ÙØ±Ù… ÙˆØ±ÙˆØ¯ÛŒ (Fake) -->
    <div class="test-section">
        <div class="test-title">ğŸ”§ Ù…Ø§Ú˜ÙˆÙ„ ÙØ±Ù… ÙˆØ±ÙˆØ¯ÛŒ (Fake Implementation)</div>
        <div style="background: #e6f7ff; padding: 10px; border-radius: 8px; font-size: 0.9rem;">
            <strong>ğŸ“Œ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ (Contract):</strong> ØªØ§Ø¨Ø¹ <code>validateInput(value, type, options)</code><br>
            - ÙˆØ±ÙˆØ¯ÛŒ: Ù…Ù‚Ø¯Ø§Ø±ØŒ Ù†ÙˆØ¹ (text/email/password/number)ØŒ options (minLength, maxLength, pattern)<br>
            - Ø®Ø±ÙˆØ¬ÛŒ: Ø´ÛŒØ¡ { isValid: boolean, error: string | null, sanitized: any }
        </div>
        <div class="button-group" style="margin-top: 15px;">
            <button onclick="runAllEdgeTests()">â–¶ Ø§Ø¬Ø±Ø§ÛŒ Ù‡Ù…Ù‡ ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ù„Ø¨Ù‡</button>
            <button onclick="clearConsole()">ğŸ—‘ Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ú©Ù†Ø³ÙˆÙ„</button>
        </div>
    </div>

    <!-- Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ³Øª Ø§Ù†ÙØ±Ø§Ø¯ÛŒ (ØªÚ©â€ŒØ§Ø¯Ø¹Ø§) -->
    <div class="test-section">
        <div class="test-title">ğŸ§ª Û±. ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ ÙˆØ±ÙˆØ¯ÛŒ Ø®Ø§Ù„ÛŒ/Ù†Ø§Ù…Ø¹ØªØ¨Ø±</div>
        <div class="button-group">
            <button onclick="testEmptyString()">ØªÙ‡ÛŒ (Empty)</button>
            <button onclick="testNullUndefined()">Null/Undefined</button>
            <button onclick="testWhitespaceOnly()">ÙØ§ØµÙ„Ù‡ Ø®Ø§Ù„ÛŒ</button>
        </div>

        <div class="test-title">ğŸ§ª Û². ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ø­Ø¯ Ù…Ø±Ø² (Boundary)</div>
        <div class="button-group">
            <button onclick="testMinLengthEdge()">Ø­Ø¯Ø§Ù‚Ù„ Ø·ÙˆÙ„ (min)</button>
            <button onclick="testMaxLengthEdge()">Ø­Ø¯Ø§Ú©Ø«Ø± Ø·ÙˆÙ„ (max)</button>
            <button onclick="testExactLength()">Ø·ÙˆÙ„ Ø¯Ù‚ÛŒÙ‚</button>
        </div>

        <div class="test-title">ğŸ§ª Û³. ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ù†ÙˆØ¹ Ùˆ Ù‚Ø§Ù„Ø¨ (Type & Pattern)</div>
        <div class="button-group">
            <button onclick="testEmailInvalid()">Ø§ÛŒÙ…ÛŒÙ„ Ù†Ø§Ù…Ø¹ØªØ¨Ø±</button>
            <button onclick="testPasswordWeak()">Ø±Ù…Ø² Ø¶Ø¹ÛŒÙ</button>
            <button onclick="testNumberOutOfRange()">Ø¹Ø¯Ø¯ Ø®Ø§Ø±Ø¬ Ù…Ø­Ø¯ÙˆØ¯Ù‡</button>
        </div>

        <div class="test-title">ğŸ§ª Û´. ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø§Ú©ØªØ±Ù‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡</div>
        <div class="button-group">
            <button onclick="testSpecialChars()">Ú©Ø§Ø±Ø§Ú©ØªØ±Ù‡Ø§ÛŒ Ø®Ø§Øµ</button>
            <button onclick="testUnicodeRTL()">ÛŒÙˆÙ†ÛŒÚ©Ø¯ Ùˆ RTL</button>
            <button onclick="testInjectionAttempt()">ØªÙ„Ø§Ø´ ØªØ²Ø±ÛŒÙ‚</button>
        </div>

        <div class="test-title">ğŸ§ª Ûµ. ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ ØªØ±Ú©ÛŒØ¨ÛŒ (Interaction)</div>
        <div class="button-group">
            <button onclick="testMultipleErrors()">Ú†Ù†Ø¯ Ø®Ø·Ø§ Ù‡Ù…Ø²Ù…Ø§Ù†</button>
            <button onclick="testValidAfterFix()">Ø§ØµÙ„Ø§Ø­ Ù¾Ø³ Ø§Ø² Ø®Ø·Ø§</button>
        </div>
    </div>

    <!-- Ú©Ù†Ø³ÙˆÙ„ Ù…Ø¬Ø§Ø²ÛŒ -->
    <div class="test-section">
        <div class="test-title">ğŸ“Ÿ Ú©Ù†Ø³ÙˆÙ„ Ø®Ø±ÙˆØ¬ÛŒ</div>
        <div id="virtualConsole" class="console">
âœ… Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ù„Ø¨Ù‡...
Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯.
        </div>
    </div>
</div>

<script>
    // ---------- Fake Implementation (Ù…Ø§Ú˜ÙˆÙ„ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø´Ø¯Ù‡) ----------
    const FormInput = {
        // ØªØ§Ø¨Ø¹ Ø§ØµÙ„ÛŒ Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ (Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø´Ø¯Ù‡)
        validateInput: (value, type = 'text', options = {}) => {
            // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø®Ø·Ø§Ù‡Ø§ÛŒ Ù„Ø¨Ù‡
            const errors = [];
            let sanitized = value;

            // 1. Ø¨Ø±Ø±Ø³ÛŒ Null/Undefined
            if (value === null || value === undefined) {
                return { isValid: false, error: 'ÙˆØ±ÙˆØ¯ÛŒ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯', sanitized: null };
            }

            // 2. ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ Ø±Ø´ØªÙ‡ Ø¨Ø±Ø§ÛŒ ÛŒÚ©Ù¾Ø§Ø±Ú†Ú¯ÛŒ
            const stringValue = String(value);

            // 3. Ø¨Ø±Ø±Ø³ÛŒ Ø®Ø§Ù„ÛŒ Ø¨ÙˆØ¯Ù†
            if (stringValue.trim() === '') {
                return { isValid: false, error: 'ÙˆØ±ÙˆØ¯ÛŒ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ ÙÙ‚Ø· ÙØ§ØµÙ„Ù‡ Ø¨Ø§Ø´Ø¯', sanitized: '' };
            }

            // 4. Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†ÙˆØ¹
            switch(type) {
                case 'email':
                    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    if (!emailRegex.test(stringValue)) {
                        return { isValid: false, error: 'Ø§ÛŒÙ…ÛŒÙ„ Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª', sanitized: stringValue };
                    }
                    sanitized = stringValue.toLowerCase();
                    break;

                case 'password':
                    if (options.minLength && stringValue.length < options.minLength) {
                        return { isValid: false, error: `Ø±Ù…Ø² Ø­Ø¯Ø§Ù‚Ù„ ${options.minLength} Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¨Ø§ÛŒØ¯ Ø¨Ø§Ø´Ø¯`, sanitized: stringValue };
                    }
                    if (!/[A-Z]/.test(stringValue) && options.requireUppercase) {
                        return { isValid: false, error: 'Ø±Ù…Ø² Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ ÛŒÚ© Ø­Ø±Ù Ø¨Ø²Ø±Ú¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯', sanitized: stringValue };
                    }
                    break;

                case 'number':
                    const num = Number(stringValue);
                    if (isNaN(num)) {
                        return { isValid: false, error: 'Ø¹Ø¯Ø¯ Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯', sanitized: stringValue };
                    }
                    if (options.min !== undefined && num < options.min) {
                        return { isValid: false, error: `Ø¹Ø¯Ø¯ Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ ${options.min} Ø¨Ø§Ø´Ø¯`, sanitized: stringValue };
                    }
                    if (options.max !== undefined && num > options.max) {
                        return { isValid: false, error: `Ø¹Ø¯Ø¯ Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ú©Ø«Ø± ${options.max} Ø¨Ø§Ø´Ø¯`, sanitized: stringValue };
                    }
                    sanitized = num;
                    break;

                default: // text
                    if (options.minLength && stringValue.length < options.minLength) {
                        return { isValid: false, error: `Ø­Ø¯Ø§Ù‚Ù„ ${options.minLength} Ú©Ø§Ø±Ø§Ú©ØªØ± Ù†ÛŒØ§Ø² Ø§Ø³Øª`, sanitized: stringValue };
                    }
                    if (options.maxLength && stringValue.length > options.maxLength) {
                        return { isValid: false, error: `Ø­Ø¯Ø§Ú©Ø«Ø± ${options.maxLength} Ú©Ø§Ø±Ø§Ú©ØªØ± Ù…Ø¬Ø§Ø² Ø§Ø³Øª`, sanitized: stringValue };
                    }
                    if (options.pattern && !new RegExp(options.pattern).test(stringValue)) {
                        return { isValid: false, error: 'ÙØ±Ù…Øª ÙˆØ±ÙˆØ¯ÛŒ Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª', sanitized: stringValue };
                    }
                    sanitized = stringValue;
            }

            return { isValid: true, error: null, sanitized };
        }
    };

    // ---------- ØªØ§Ø¨Ø¹ Ú©Ù…Ú©ÛŒ Ù„Ø§Ú¯ ----------
    function log(message, type = 'info') {
        const consoleDiv = document.getElementById('virtualConsole');
        const timestamp = new Date().toLocaleTimeString('fa-IR', { hour: '2-digit', minute: '2-digit', second: '2-digit' });
        let coloredMessage = '';
        
        switch(type) {
            case 'success': coloredMessage = `âœ… [${timestamp}] ${message}`; break;
            case 'error': coloredMessage = `âŒ [${timestamp}] ${message}`; break;
            case 'warning': coloredMessage = `âš ï¸ [${timestamp}] ${message}`; break;
            default: coloredMessage = `ğŸ“Œ [${timestamp}] ${message}`;
        }
        
        consoleDiv.innerHTML += `\n${coloredMessage}`;
        consoleDiv.scrollTop = consoleDiv.scrollHeight;
        console.log(message); // Ù‡Ù…Ú†Ù†ÛŒÙ† Ø¯Ø± Ú©Ù†Ø³ÙˆÙ„ ÙˆØ§Ù‚Ø¹ÛŒ
    }

    function clearConsole() {
        document.getElementById('virtualConsole').innerHTML = 'âœ… Ú©Ù†Ø³ÙˆÙ„ Ù¾Ø§Ú© Ø´Ø¯. Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øªâ€ŒÙ‡Ø§...';
        log('Ú©Ù†Ø³ÙˆÙ„ Ù…Ø¬Ø§Ø²ÛŒ Ù¾Ø§Ú© Ø´Ø¯');
    }

    // ---------- ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ù„Ø¨Ù‡ (Ù‡Ø± ØªØ§Ø¨Ø¹ ÛŒÚ© Ø§Ø¯Ø¹Ø§) ----------
    function testEmptyString() {
        log('ğŸ§ª ØªØ³Øª: Ø±Ø´ØªÙ‡ Ø®Ø§Ù„ÛŒ', 'info');
        const result = FormInput.validateInput('', 'text', { minLength: 3 });
        if (!result.isValid && result.error === 'ÙˆØ±ÙˆØ¯ÛŒ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ ÙÙ‚Ø· ÙØ§ØµÙ„Ù‡ Ø¨Ø§Ø´Ø¯') {
            log('âœ“ Ø±Ø´ØªÙ‡ Ø®Ø§Ù„ÛŒ Ø±Ø¯ Ø´Ø¯ (ØµØ­ÛŒØ­)', 'success');
        } else {
            log('âœ— Ø®Ø·Ø§: Ø±Ø´ØªÙ‡ Ø®Ø§Ù„ÛŒ Ø¨Ø§ÛŒØ¯ Ø±Ø¯ Ù…ÛŒâ€ŒØ´Ø¯', 'error');
        }
    }

    function testNullUndefined() {
        log('ğŸ§ª ØªØ³Øª: Null Ùˆ Undefined', 'info');
        const result1 = FormInput.validateInput(null);
        const result2 = FormInput.validateInput(undefined);
        
        if (!result1.isValid && !result2.isValid) {
            log('âœ“ Null Ùˆ Undefined Ù‡Ø± Ø¯Ùˆ Ø±Ø¯ Ø´Ø¯Ù†Ø¯', 'success');
        } else {
            log('âœ— Ø®Ø·Ø§: Null/Undefined Ø¨Ø§ÛŒØ¯ Ø±Ø¯ Ø´ÙˆÙ†Ø¯', 'error');
        }
    }

    function testWhitespaceOnly() {
        log('ğŸ§ª ØªØ³Øª: ÙÙ‚Ø· ÙØ§ØµÙ„Ù‡', 'info');
        const result = FormInput.validateInput('   ', 'text');
        if (!result.isValid && result.error.includes('ÙØ§ØµÙ„Ù‡')) {
            log('âœ“ ÙˆØ±ÙˆØ¯ÛŒ ÙÙ‚Ø· ÙØ§ØµÙ„Ù‡ Ø±Ø¯ Ø´Ø¯', 'success');
        } else {
            log('âœ— Ø®Ø·Ø§: ÙˆØ±ÙˆØ¯ÛŒ ÙÙ‚Ø· ÙØ§ØµÙ„Ù‡ Ø¨Ø§ÛŒØ¯ Ø±Ø¯ Ø´ÙˆØ¯', 'error');
        }
    }

    function testMinLengthEdge() {
        log('ğŸ§ª ØªØ³Øª: Ø­Ø¯Ø§Ù‚Ù„ Ø·ÙˆÙ„', 'info');
        const result = FormInput.validateInput('ab', 'text', { minLength: 3 });
        if (!result.isValid && result.error.includes('Ø­Ø¯Ø§Ù‚Ù„ 3')) {
            log('âœ“ Ø±Ø´ØªÙ‡ Ú©ÙˆØªØ§Ù‡â€ŒØªØ± Ø§Ø² Ø­Ø¯Ø§Ù‚Ù„ Ø±Ø¯ Ø´Ø¯', 'success');
        } else {
            log('âœ— Ø®Ø·Ø§: Ø¨Ø§ÛŒØ¯ Ø®Ø·Ø§ÛŒ Ø­Ø¯Ø§Ù‚Ù„ Ø·ÙˆÙ„ Ù…ÛŒâ€ŒØ¯Ø§Ø¯', 'error');
        }
    }

    function testMaxLengthEdge() {
        log('ğŸ§ª ØªØ³Øª: Ø­Ø¯Ø§Ú©Ø«Ø± Ø·ÙˆÙ„', 'info');
        const result = FormInput.validateInput('12345678901', 'text', { maxLength: 10 });
        if (!result.isValid && result.error.includes('Ø­Ø¯Ø§Ú©Ø«Ø± 10')) {
            log('âœ“ Ø±Ø´ØªÙ‡ Ø¨Ù„Ù†Ø¯ØªØ± Ø§Ø² Ø­Ø¯Ø§Ú©Ø«Ø± Ø±Ø¯ Ø´Ø¯', 'success');
        } else {
            log('âœ— Ø®Ø·Ø§: Ø¨Ø§ÛŒØ¯ Ø®Ø·Ø§ÛŒ Ø­Ø¯Ø§Ú©Ø«Ø± Ø·ÙˆÙ„ Ù…ÛŒâ€ŒØ¯Ø§Ø¯', 'error');
        }
    }

    function testExactLength() {
        log('ğŸ§ª ØªØ³Øª: Ø·ÙˆÙ„ Ø¯Ù‚ÛŒÙ‚', 'info');
        const result = FormInput.validateInput('12345', 'text', { minLength: 5, maxLength: 5 });
        if (result.isValid && result.sanitized === '12345') {
            log('âœ“ Ø±Ø´ØªÙ‡ Ø¨Ø§ Ø·ÙˆÙ„ Ø¯Ù‚ÛŒÙ‚ Ù‚Ø¨ÙˆÙ„ Ø´Ø¯', 'success');
        } else {
            log('âœ— Ø®Ø·Ø§: Ø±Ø´ØªÙ‡ Ù…Ø¹ØªØ¨Ø± Ø¨Ø§ÛŒØ¯ Ù‚Ø¨ÙˆÙ„ Ù…ÛŒâ€ŒØ´Ø¯', 'error');
        }
    }

    function testEmailInvalid() {
        log('ğŸ§ª ØªØ³Øª: Ø§ÛŒÙ…ÛŒÙ„ Ù†Ø§Ù…Ø¹ØªØ¨Ø±', 'info');
        const results = [
            FormInput.validateInput('user@', 'email'),
            FormInput.validateInput('@domain.com', 'email'),
            FormInput.validateInput('user.domain.com', 'email')
        ];
        if (results.every(r => !r.isValid)) {
            log('âœ“ Ù‡Ù…Ù‡ Ø§ÛŒÙ…ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø±Ø¯ Ø´Ø¯Ù†Ø¯', 'success');
        } else {
            log('âœ— Ø®Ø·Ø§: Ø¨Ø±Ø®ÛŒ Ø§ÛŒÙ…ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ù‚Ø¨ÙˆÙ„ Ø´Ø¯Ù†Ø¯', 'error');
        }
    }

    function testPasswordWeak() {
        log('ğŸ§ª ØªØ³Øª: Ø±Ù…Ø² Ø¶Ø¹ÛŒÙ', 'info');
        const result = FormInput.validateInput('pass', 'password', { minLength: 8 });
        if (!result.isValid && result.error.includes('Ø­Ø¯Ø§Ù‚Ù„ 8')) {
            log('âœ“ Ø±Ù…Ø² Ø¶Ø¹ÛŒÙ Ø±Ø¯ Ø´Ø¯', 'success');
        } else {
            log('âœ— Ø®Ø·Ø§: Ø±Ù…Ø² Ø¶Ø¹ÛŒÙ Ø¨Ø§ÛŒØ¯ Ø±Ø¯ Ø´ÙˆØ¯', 'error');
        }
    }

    function testNumberOutOfRange() {
        log('ğŸ§ª ØªØ³Øª: Ø¹Ø¯Ø¯ Ø®Ø§Ø±Ø¬ Ù…Ø­Ø¯ÙˆØ¯Ù‡', 'info');
        const resultLow = FormInput.validateInput('5', 'number', { min: 10 });
        const resultHigh = FormInput.validateInput('20', 'number', { max: 15 });
        
        if (!resultLow.isValid && !resultHigh.isValid) {
            log('âœ“ Ø§Ø¹Ø¯Ø§Ø¯ Ø®Ø§Ø±Ø¬ Ù…Ø­Ø¯ÙˆØ¯Ù‡ Ø±Ø¯ Ø´Ø¯Ù†Ø¯', 'success');
        } else {
            log('âœ— Ø®Ø·Ø§: Ø§Ø¹Ø¯Ø§Ø¯ Ø®Ø§Ø±Ø¬ Ù…Ø­Ø¯ÙˆØ¯Ù‡ Ø¨Ø§ÛŒØ¯ Ø±Ø¯ Ø´ÙˆÙ†Ø¯', 'error');
        }
    }

    function testSpecialChars() {
        log('ğŸ§ª ØªØ³Øª: Ú©Ø§Ø±Ø§Ú©ØªØ±Ù‡Ø§ÛŒ Ø®Ø§Øµ', 'info');
        const result = FormInput.validateInput('!@#$%^&*()', 'text');
        if (result.isValid) {
            log('âœ“ Ú©Ø§Ø±Ø§Ú©ØªØ±Ù‡Ø§ÛŒ Ø®Ø§Øµ Ù‚Ø¨ÙˆÙ„ Ø´Ø¯Ù†Ø¯ (Ø·Ø¨Ù‚ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯)', 'success');
        } else {
            log('âœ— Ø®Ø·Ø§: Ú©Ø§Ø±Ø§Ú©ØªØ±Ù‡Ø§ÛŒ Ø®Ø§Øµ Ø¨Ø§ÛŒØ¯ Ù‚Ø¨ÙˆÙ„ Ø´ÙˆÙ†Ø¯ Ù…Ú¯Ø± Ø§Ù„Ú¯Ùˆ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ…', 'error');
        }
    }

    function testUnicodeRTL() {
        log('ğŸ§ª ØªØ³Øª: ÛŒÙˆÙ†ÛŒÚ©Ø¯ Ùˆ ÙØ§Ø±Ø³ÛŒ', 'info');
        const result = FormInput.validateInput('Ø³Ù„Ø§Ù… Ø¯Ù†ÛŒØ§', 'text');
        if (result.isValid && result.sanitized === 'Ø³Ù„Ø§Ù… Ø¯Ù†ÛŒØ§') {
            log('âœ“ Ù…ØªÙ† ÙØ§Ø±Ø³ÛŒ Ø¨Ù‡ Ø¯Ø±Ø³ØªÛŒ Ù‚Ø¨ÙˆÙ„ Ø´Ø¯', 'success');
        } else {
            log('âœ— Ø®Ø·Ø§: Ù…ØªÙ† ÙØ§Ø±Ø³ÛŒ Ø¨Ø§ÛŒØ¯ Ù‚Ø¨ÙˆÙ„ Ø´ÙˆØ¯', 'error');
        }
    }

    function testInjectionAttempt() {
        log('ğŸ§ª ØªØ³Øª: ØªÙ„Ø§Ø´ ØªØ²Ø±ÛŒÙ‚ (XSS)', 'info');
        const result = FormInput.validateInput('<script>alert(1)</script>', 'text');
        // Ø¯Ø± Ø§ÛŒÙ† Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø³Ø§Ø¯Ù‡ØŒ Ù†Ø¨Ø§ÛŒØ¯ Ø³Ø§Ù†ÛŒØªØ§ÛŒØ² Ø®Ø§ØµÛŒ Ø§Ù†Ø¬Ø§Ù… Ø´ÙˆØ¯
        if (result.isValid) {
            log('âš ï¸ ÙˆØ±ÙˆØ¯ÛŒ Ø´Ø§Ù…Ù„ ØªÚ¯ Ù‚Ø¨ÙˆÙ„ Ø´Ø¯ (Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø³Ø§Ù†ÛŒØªØ§ÛŒØ² Ø¯Ø± Ø³Ø·Ø­ Ø¨Ø§Ù„Ø§ØªØ±)', 'warning');
        } else {
            log('âœ“ ÙˆØ±ÙˆØ¯ÛŒ Ø®Ø·Ø±Ù†Ø§Ú© Ø±Ø¯ Ø´Ø¯', 'success');
        }
    }

    function testMultipleErrors() {
        log('ğŸ§ª ØªØ³Øª: Ú†Ù†Ø¯ Ø®Ø·Ø§ Ù‡Ù…Ø²Ù…Ø§Ù†', 'info');
        const result = FormInput.validateInput('a', 'text', { minLength: 3, maxLength: 10, pattern: '^[A-Z]+$' });
        // Ø§Ù†ØªØ¸Ø§Ø± Ø¯Ø§Ø±ÛŒÙ… Ø§ÙˆÙ„ÛŒÙ† Ø®Ø·Ø§ (minLength) Ø¨Ø±Ú¯Ø±Ø¯Ø¯
        if (!result.isValid && result.error.includes('Ø­Ø¯Ø§Ù‚Ù„ 3')) {
            log('âœ“ Ø®Ø·Ø§ÛŒ Ø§ÙˆÙ„ÙˆÛŒØªâ€ŒØ¯Ø§Ø± (minLength) Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù‡ Ø´Ø¯', 'success');
        } else {
            log('âœ— Ø®Ø·Ø§: Ø¨Ø§ÛŒØ¯ Ø®Ø·Ø§ÛŒ minLength Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø´Øª', 'error');
        }
    }

    function testValidAfterFix() {
        log('ğŸ§ª ØªØ³Øª: Ø§ØµÙ„Ø§Ø­ Ù¾Ø³ Ø§Ø² Ø®Ø·Ø§', 'info');
        const invalidResult = FormInput.validateInput('a', 'text', { minLength: 2 });
        const validResult = FormInput.validateInput('ab', 'text', { minLength: 2 });
        
        if (!invalidResult.isValid && validResult.isValid) {
            log('âœ“ Ø±ÙØªØ§Ø± ØµØ­ÛŒØ­: ÙˆØ±ÙˆØ¯ÛŒ Ù†Ø§Ù…Ø¹ØªØ¨Ø± â†’ Ù…Ø¹ØªØ¨Ø±', 'success');
        } else {
            log('âœ— Ø®Ø·Ø§: Ø²Ù†Ø¬ÛŒØ±Ù‡ Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ù…Ø´Ú©Ù„ Ø¯Ø§Ø±Ø¯', 'error');
        }
    }

    function runAllEdgeTests() {
        log('ğŸš€ Ø§Ø¬Ø±Ø§ÛŒ Ù‡Ù…Ù‡ ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ù„Ø¨Ù‡...', 'info');
        testEmptyString();
        testNullUndefined();
        testWhitespaceOnly();
        testMinLengthEdge();
        testMaxLengthEdge();
        testExactLength();
        testEmailInvalid();
        testPasswordWeak();
        testNumberOutOfRange();
        testSpecialChars();
        testUnicodeRTL();
        testInjectionAttempt();
        testMultipleErrors();
        testValidAfterFix();
        log('ğŸ Ù¾Ø§ÛŒØ§Ù† Ù…Ø¬Ù…ÙˆØ¹Ù‡ ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ù„Ø¨Ù‡', 'success');
    }

    // Ù„Ø§Ú¯ Ø§ÙˆÙ„ÛŒÙ‡
    log('âœ… Ù…Ø§Ú˜ÙˆÙ„ ØªØ³Øª ÙØ±Ù… ÙˆØ±ÙˆØ¯ÛŒ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯');
    log('ğŸ“± Ù…Ø­ÛŒØ·: Ù…ÙˆØ¨Ø§ÛŒÙ„ - Ø§Ø¬Ø±Ø§ÛŒ Ø¯Ø³ØªÛŒ Ø¨Ø§ Ø¯Ú©Ù…Ù‡');
</script>
</body>
</html>
