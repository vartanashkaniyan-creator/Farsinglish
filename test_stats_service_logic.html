<!DOCTYPE html>
<html dir="rtl" lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ³Øª Stats Service - Ù…Ù†Ø·Ù‚ Ù…Ø­Ø¶ Ø¨Ø§ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø³ØªÛŒ</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
            margin: 0;
            padding: 20px;
            color: #333;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            padding: 25px;
        }
        h1 {
            font-size: 1.6rem;
            margin-top: 0;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 3px solid #6c5ce7;
            color: #2d3436;
        }
        h2 {
            font-size: 1.2rem;
            margin: 20px 0 15px;
            color: #6c5ce7;
        }
        .test-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 25px;
            justify-content: center;
        }
        .btn {
            background: #dfe6e9;
            border: none;
            border-radius: 30px;
            padding: 10px 18px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            color: #2d3436;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .btn-primary {
            background: #6c5ce7;
            color: white;
            padding: 12px 25px;
            font-size: 1rem;
        }
        .btn-primary:hover {
            background: #5849c4;
            transform: translateY(-1px);
            box-shadow: 0 4px 10px rgba(108,92,231,0.3);
        }
        .btn-test {
            background: #74b9ff;
            color: white;
            min-width: 45px;
        }
        .btn-test:hover {
            background: #4a9eff;
        }
        .btn-reset {
            background: #fdcb6e;
            color: #2d3436;
        }
        .btn-reset:hover {
            background: #e0b054;
        }
        .test-grid {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin: 25px 0;
        }
        .test-case {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 15px;
            border-right: 5px solid #b2bec3;
            transition: all 0.2s;
        }
        .test-case.pass {
            border-right-color: #00b894;
            background: #e6f9f0;
        }
        .test-case.fail {
            border-right-color: #d63031;
            background: #fee9e7;
        }
        .test-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 10px;
            flex-wrap: wrap;
        }
        .test-title {
            font-weight: 700;
            font-size: 1rem;
            color: #2d3436;
            flex: 1;
        }
        .test-status {
            padding: 4px 12px;
            border-radius: 30px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        .pass .test-status {
            background: #00b894;
            color: white;
        }
        .fail .test-status {
            background: #d63031;
            color: white;
        }
        .test-desc {
            font-size: 0.9rem;
            color: #636e72;
            margin-bottom: 12px;
        }
        .test-details {
            background: #f1f3f5;
            padding: 10px 14px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            direction: ltr;
            text-align: left;
            margin: 10px 0 15px;
            border-left: 3px solid #6c5ce7;
        }
        .single-test-btn {
            background: #6c5ce7;
            color: white;
            border: none;
            border-radius: 20px;
            padding: 6px 15px;
            font-size: 0.8rem;
            font-weight: 500;
            cursor: pointer;
            transition: background 0.2s;
            margin-left: 10px;
        }
        .single-test-btn:hover {
            background: #5849c4;
        }
        .summary {
            background: #f1f3f5;
            border-radius: 12px;
            padding: 15px 20px;
            margin: 20px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 700;
            font-size: 1.1rem;
        }
        .summary .total { color: #2d3436; }
        .summary .passed { color: #00b894; }
        .summary .failed { color: #d63031; }
        .log-container {
            background: #1e272e;
            color: #d2dae2;
            border-radius: 12px;
            padding: 18px;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            direction: ltr;
            text-align: left;
            max-height: 200px;
            overflow-y: auto;
            line-height: 1.6;
            border: 1px solid #3b4b5a;
        }
        .footer-note {
            margin-top: 25px;
            text-align: center;
            font-size: 0.8rem;
            color: #b2bec3;
        }
        .btn-group {
            display: flex;
            gap: 8px;
            justify-content: flex-end;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§ª Stats Service Â· ØªØ³Øª Ø¯Ø³ØªÛŒ Û±Û² Ú¯Ø§Ù†Ù‡</h1>
        <p style="margin-bottom: 25px; background: #f0f3f8; padding: 10px; border-radius: 8px;">
            âš¡ Ù‡Ø± ØªØ³Øª Ø¯Ú©Ù…Ù‡ Ù…Ø¬Ø²Ø§ Ø¯Ø§Ø±Ø¯ Â· Ø¯Ú©Ù…Ù‡ Ø§ØµÙ„ÛŒ Ù‡Ù…Ù‡ ØªØ³Øªâ€ŒÙ‡Ø§ Ø±Ø§ Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Â· Ú©Ø§Ù…Ù„Ø§Ù‹ Ø¯Ø³ØªÛŒ Â· Ø¨Ø¯ÙˆÙ† Ø§Ø¬Ø±Ø§ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø±
        </p>
        
        <!-- Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ù†ØªØ±Ù„ÛŒ -->
        <div class="test-buttons">
            <button class="btn btn-primary" id="runAllTestsBtn">â–¶ Ø§Ø¬Ø±Ø§ÛŒ Ù‡Ù…Ù‡ ØªØ³Øªâ€ŒÙ‡Ø§</button>
            <button class="btn btn-reset" id="resetBtn">âŸ² Ø±ÛŒØ³Øª Ù†ØªØ§ÛŒØ¬</button>
        </div>

        <!-- Ù†ØªØ§ÛŒØ¬ ØªØ³Øªâ€ŒÙ‡Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ø¯Ø§ÛŒÙ†Ø§Ù…ÛŒÚ© Ù¾Ø± Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
        <div id="testResults" class="test-grid"></div>
        
        <!-- Ø®Ù„Ø§ØµÙ‡ ÙˆØ¶Ø¹ÛŒØª -->
        <div class="summary" id="summary">
            <span class="total">Ù…Ø¬Ù…ÙˆØ¹: Û°</span>
            <span class="passed">âœ… Ù…ÙˆÙÙ‚: Û°</span>
            <span class="failed">âŒ Ù†Ø§Ù…ÙˆÙÙ‚: Û°</span>
        </div>
        
        <!-- Ù„Ø§Ú¯ Ø®Ø±ÙˆØ¬ÛŒ -->
        <div class="log-container" id="logOutput">
            <div># Ø¨Ø±Ø§ÛŒ Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øªâ€ŒÙ‡Ø§ØŒ Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯</div>
        </div>
        <div class="footer-note">
            âœ¨ Ù…Ù†Ø·Ù‚ Ù…Ø­Ø¶ Â· ÙˆØ±ÙˆØ¯ÛŒ/Ø®Ø±ÙˆØ¬ÛŒ Ù…Ø´Ø®Øµ Â· ØªÚ©â€ŒØ§Ø¯Ø¹Ø§ Â· Ù…Ø³ØªÙ‚Ù„ Ø§Ø² Ø§Ø¨Ø²Ø§Ø± Â· Ù‡Ø± ØªØ³Øª Ø¨Ø§ Ø¯Ú©Ù…Ù‡ Ù…Ø¬Ø²Ø§
        </div>
    </div>

    <script>
        (function() {
            // ----- Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø³Ø±ÙˆÛŒØ³ Stats (Ù‡Ù…Ø§Ù†Ù†Ø¯ stats-service.js) -----
            const StatsService = {
                averageScore(lessons) {
                    if (!Array.isArray(lessons) || lessons.length === 0) return 0;
                    let total = 0, count = 0;
                    for (let i = 0; i < lessons.length; i++) {
                        const lesson = lessons[i];
                        if (lesson && typeof lesson.score === 'number' && !isNaN(lesson.score)) {
                            total += lesson.score;
                            count++;
                        }
                    }
                    if (count === 0) return 0;
                    return Math.round((total / count) * 10) / 10;
                },

                completionRate(lessons) {
                    if (!Array.isArray(lessons) || lessons.length === 0) return 0;
                    let completedCount = 0;
                    for (let i = 0; i < lessons.length; i++) {
                        if (lessons[i] && lessons[i].completed === true) {
                            completedCount++;
                        }
                    }
                    return Math.round((completedCount / lessons.length) * 100);
                },

                dueCount(lessons) {
                    if (!Array.isArray(lessons)) return 0;
                    const now = Date.now();
                    let count = 0;
                    for (let i = 0; i < lessons.length; i++) {
                        const lesson = lessons[i];
                        if (lesson && typeof lesson.dueDate === 'number') {
                            if (lesson.dueDate <= now) {
                                count++;
                            }
                        }
                    }
                    return count;
                },

                strongestCategory(categories) {
                    if (!categories || typeof categories !== 'object') return null;
                    let maxScore = -1;
                    let bestCat = null;
                    for (const [cat, score] of Object.entries(categories)) {
                        if (typeof score === 'number' && score > maxScore) {
                            maxScore = score;
                            bestCat = cat;
                        }
                    }
                    return bestCat;
                }
            };

            // ----- ØªØ¹Ø±ÛŒÙ ØªØ³Øªâ€ŒÙ‡Ø§ (Ù‡Ø± ØªØ³Øª ÛŒÚ© ØªØ§Ø¨Ø¹ Ø§Ø³Øª) -----
            const tests = [
                {
                    id: 1,
                    title: 'Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø§Ù…ØªÛŒØ§Ø² - Ø¢Ø±Ø§ÛŒÙ‡ Ø®Ø§Ù„ÛŒ',
                    desc: 'ÙˆØ±ÙˆØ¯ÛŒ Ø¢Ø±Ø§ÛŒÙ‡ Ø®Ø§Ù„ÛŒ â†’ Ø®Ø±ÙˆØ¬ÛŒ ØµÙØ±',
                    run: () => {
                        const result = StatsService.averageScore([]);
                        return result === 0;
                    }
                },
                {
                    id: 2,
                    title: 'Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø§Ù…ØªÛŒØ§Ø² - Ø§Ø¹Ø¯Ø§Ø¯ ØµØ­ÛŒØ­',
                    desc: 'Ø¯Ø±Ø³â€ŒÙ‡Ø§ Ø¨Ø§ Ø§Ù…ØªÛŒØ§Ø² [Û±Û°, Û²Û°, Û³Û°, Û´Û°] â†’ Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Û²Ûµ',
                    run: () => {
                        const lessons = [ { score: 10 }, { score: 20 }, { score: 30 }, { score: 40 } ];
                        const result = StatsService.averageScore(lessons);
                        return result === 25.0;
                    }
                },
                {
                    id: 3,
                    title: 'Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø§Ù…ØªÛŒØ§Ø² - Ø¨Ø§ Ø¯Ø§Ø¯Ù‡ Ù†Ø§Ù‚Øµ',
                    desc: 'Ø¨Ø±Ø®ÛŒ Ø¯Ø±Ø³â€ŒÙ‡Ø§ score Ù†Ø¯Ø§Ø±Ù†Ø¯ â†’ Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ú¯Ø±ÙØªÙ‡ Ø´ÙˆÙ†Ø¯ (Û±Û°,Û²Û°,Û³Û° â†’ Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Û²Û°)',
                    run: () => {
                        const lessons = [ { score: 10 }, { name: 'Ø¨Ø¯ÙˆÙ† Ø§Ù…ØªÛŒØ§Ø²' }, { score: 20 }, null, { score: 30 } ];
                        const result = StatsService.averageScore(lessons);
                        return result === 20.0;
                    }
                },
                {
                    id: 4,
                    title: 'Ø¯Ø±ØµØ¯ Ù¾ÛŒØ´Ø±ÙØª - Ú©Ø§Ù…Ù„',
                    desc: 'Û´ Ø¯Ø±Ø³ØŒ Û² ØªØ§ completed â†’ ÛµÛ°Ùª',
                    run: () => {
                        const lessons = [ { completed: true }, { completed: false }, { completed: true }, { completed: false } ];
                        const result = StatsService.completionRate(lessons);
                        return result === 50;
                    }
                },
                {
                    id: 5,
                    title: 'Ø¯Ø±ØµØ¯ Ù¾ÛŒØ´Ø±ÙØª - ØµÙØ±',
                    desc: 'Ø¢Ø±Ø§ÛŒÙ‡ Ø®Ø§Ù„ÛŒ â†’ ØµÙØ±',
                    run: () => {
                        const result = StatsService.completionRate([]);
                        return result === 0;
                    }
                },
                {
                    id: 6,
                    title: 'ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø±Ø³â€ŒÙ‡Ø§ÛŒ due - ØªØ§Ø±ÛŒØ®â€ŒÚ¯Ø°Ø´ØªÙ‡',
                    desc: 'Ø¯Ùˆ Ø¯Ø±Ø³ dueDate Ú¯Ø°Ø´ØªÙ‡ØŒ ÛŒÚ©ÛŒ Ø¢ÛŒÙ†Ø¯Ù‡ â†’ Û²',
                    run: () => {
                        const now = Date.now();
                        const lessons = [ { dueDate: now - 1000 }, { dueDate: now + 1000 }, { dueDate: now - 2000 } ];
                        const result = StatsService.dueCount(lessons);
                        return result === 2;
                    }
                },
                {
                    id: 7,
                    title: 'ØªØ¹Ø¯Ø§Ø¯ due - Ø¨Ø¯ÙˆÙ† Ø®Ø§ØµÛŒØª dueDate',
                    desc: 'ÙˆØ±ÙˆØ¯ÛŒ Ø¨Ø¯ÙˆÙ† dueDate â†’ Û°',
                    run: () => {
                        const lessons = [ { name: 'ÛŒÚ©' }, { name: 'Ø¯Ùˆ' } ];
                        const result = StatsService.dueCount(lessons);
                        return result === 0;
                    }
                },
                {
                    id: 8,
                    title: 'Ù‚ÙˆÛŒâ€ŒØªØ±ÛŒÙ† Ø¯Ø³ØªÙ‡ - Ø¹Ø§Ø¯ÛŒ',
                    desc: 'Ø¯Ø³ØªÙ‡â€ŒÙ‡Ø§ Ø¨Ø§ Ø§Ù…ØªÛŒØ§Ø² Û²Û°, ÛµÛ°, Û³Û° â†’ "grammar" Ø¨Ø§ ÛµÛ°',
                    run: () => {
                        const categories = { vocabulary: 20, grammar: 50, listening: 30 };
                        const result = StatsService.strongestCategory(categories);
                        return result === 'grammar';
                    }
                },
                {
                    id: 9,
                    title: 'Ù‚ÙˆÛŒâ€ŒØªØ±ÛŒÙ† Ø¯Ø³ØªÙ‡ - ÙˆØ±ÙˆØ¯ÛŒ Ù†Ø§Ù…Ø¹ØªØ¨Ø±',
                    desc: 'ÙˆØ±ÙˆØ¯ÛŒ null â†’ null',
                    run: () => {
                        const result = StatsService.strongestCategory(null);
                        return result === null;
                    }
                },
                {
                    id: 10,
                    title: 'Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø§Ù…ØªÛŒØ§Ø² - Ø§Ø¹Ø´Ø§Ø±',
                    desc: 'Ø§Ù…ØªÛŒØ§Ø²Ù‡Ø§ÛŒ Û±Û· Ùˆ Û²Û³ â†’ Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Û²Û°.Û°',
                    run: () => {
                        const lessons = [ { score: 17 }, { score: 23 } ];
                        const result = StatsService.averageScore(lessons);
                        return result === 20.0;
                    }
                },
                {
                    id: 11,
                    title: 'Ø¯Ø±ØµØ¯ Ù¾ÛŒØ´Ø±ÙØª - Ù‡Ù…Ù‡ Ú©Ø§Ù…Ù„',
                    desc: 'Ûµ Ø¯Ø±Ø³ØŒ Ù‡Ù…Ù‡ completed â†’ Û±Û°Û°',
                    run: () => {
                        const lessons = [ { completed: true }, { completed: true }, { completed: true } ];
                        const result = StatsService.completionRate(lessons);
                        return result === 100;
                    }
                },
                {
                    id: 12,
                    title: 'ØªØ¹Ø¯Ø§Ø¯ due - Ù‡Ù…Ù‡ Ø¢ÛŒÙ†Ø¯Ù‡ (Ø§ØµÙ„Ø§Ø­â€ŒØ´Ø¯Ù‡)',
                    desc: 'Ù‡Ù…Ù‡ dueDate Ø¯Ø± Ø¢ÛŒÙ†Ø¯Ù‡ (Ø¨Ø§ ÙØ§ØµÙ„Ù‡ Ø§Ù…Ù† Û± Ø«Ø§Ù†ÛŒÙ‡) â†’ Û°',
                    run: () => {
                        const now = Date.now();
                        // Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ÙØ§ØµÙ„Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ù…Ø·Ù…Ø¦Ù†â€ŒØªØ± (Û±Û° Ø«Ø§Ù†ÛŒÙ‡ Ø¨Ø¹Ø¯)
                        const lessons = [ { dueDate: now + 10000 }, { dueDate: now + 20000 } ];
                        const result = StatsService.dueCount(lessons);
                        return result === 0;
                    }
                }
            ];

            let testResults = new Array(tests.length).fill(null); // null =æœªå®Ÿè¡Œ, true = pass, false = fail

            // ----- ØªÙˆØ§Ø¨Ø¹ Ú©Ù…Ú©ÛŒ -----
            function log(message) {
                const logDiv = document.getElementById('logOutput');
                const p = document.createElement('div');
                p.textContent = message;
                logDiv.appendChild(p);
                logDiv.scrollTop = logDiv.scrollHeight;
            }

            function clearLog() {
                document.getElementById('logOutput').innerHTML = '';
            }

            function resetAll() {
                testResults = new Array(tests.length).fill(null);
                renderTests();
                updateSummary();
                clearLog();
                log('# Ù‡Ù…Ù‡ Ù†ØªØ§ÛŒØ¬ Ø±ÛŒØ³Øª Ø´Ø¯Ù†Ø¯. Ø¨Ø±Ø§ÛŒ Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øªâ€ŒÙ‡Ø§ Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯.');
            }

            function updateSummary() {
                const total = tests.length;
                const passed = testResults.filter(r => r === true).length;
                const failed = testResults.filter(r => r === false).length;
                document.querySelector('.summary .total').innerText = `Ù…Ø¬Ù…ÙˆØ¹: ${total}`;
                document.querySelector('.summary .passed').innerText = `âœ… Ù…ÙˆÙÙ‚: ${passed}`;
                document.querySelector('.summary .failed').innerText = `âŒ Ù†Ø§Ù…ÙˆÙÙ‚: ${failed}`;
            }

            // Ø§Ø¬Ø±Ø§ÛŒ ÛŒÚ© ØªØ³Øª Ø®Ø§Øµ
            function runSingleTest(index) {
                const test = tests[index];
                let passed = false;
                let errorMsg = '';
                try {
                    passed = test.run();
                } catch (e) {
                    passed = false;
                    errorMsg = e.message;
                }
                testResults[index] = passed;
                
                // Ù„Ø§Ú¯
                log(`[${passed ? 'PASS' : 'FAIL'}] ØªØ³Øª ${test.id}: ${test.title} - ${passed ? 'âœ“' : 'âœ—'} ${errorMsg ? '(' + errorMsg + ')' : ''}`);
                
                renderTests();
                updateSummary();
                return passed;
            }

            // Ø§Ø¬Ø±Ø§ÛŒ Ù‡Ù…Ù‡ ØªØ³Øªâ€ŒÙ‡Ø§
            function runAllTests() {
                clearLog();
                log('â–¶ Ø´Ø±ÙˆØ¹ Ø§Ø¬Ø±Ø§ÛŒ Ù‡Ù…Ù‡ ØªØ³Øªâ€ŒÙ‡Ø§...\n');
                
                for (let i = 0; i < tests.length; i++) {
                    runSingleTest(i);
                }
                
                log(`\nğŸ“Š Ø¬Ù…Ø¹â€ŒØ¨Ù†Ø¯ÛŒ Ù†Ù‡Ø§ÛŒÛŒ: ${testResults.filter(r => r === true).length} Ù…ÙˆÙÙ‚ØŒ ${testResults.filter(r => r === false).length} Ù†Ø§Ù…ÙˆÙÙ‚ Ø§Ø² ${tests.length} ØªØ³Øª`);
            }

            // Ø±Ù†Ø¯Ø± Ú©Ø±Ø¯Ù† ØªØ³Øªâ€ŒÙ‡Ø§ Ø¯Ø± ØµÙØ­Ù‡
            function renderTests() {
                const container = document.getElementById('testResults');
                container.innerHTML = '';
                
                tests.forEach((test, index) => {
                    const status = testResults[index];
                    const statusClass = status === null ? '' : (status ? 'pass' : 'fail');
                    const statusText = status === null ? 'âšª Ø§Ø¬Ø±Ø§ Ù†Ø´Ø¯Ù‡' : (status ? 'âœ… Ù…ÙˆÙÙ‚' : 'âŒ Ù†Ø§Ù…ÙˆÙÙ‚');
                    
                    const testDiv = document.createElement('div');
                    testDiv.className = `test-case ${statusClass}`;
                    testDiv.id = `test-${test.id}`;
                    
                    // Ù‡Ø¯Ø± Ø¨Ø§ Ø¯Ú©Ù…Ù‡ Ù…Ø¬Ø²Ø§
                    const headerDiv = document.createElement('div');
                    headerDiv.className = 'test-header';
                    
                    const titleSpan = document.createElement('span');
                    titleSpan.className = 'test-title';
                    titleSpan.textContent = `${test.id}. ${test.title}`;
                    
                    const statusSpan = document.createElement('span');
                    statusSpan.className = 'test-status';
                    statusSpan.textContent = statusText;
                    
                    const btnDiv = document.createElement('div');
                    btnDiv.className = 'btn-group';
                    
                    const runBtn = document.createElement('button');
                    runBtn.className = 'single-test-btn';
                    runBtn.textContent = 'Ø§Ø¬Ø±Ø§ÛŒ Ø§ÛŒÙ† ØªØ³Øª';
                    runBtn.onclick = (e) => {
                        e.stopPropagation();
                        runSingleTest(index);
                    };
                    
                    btnDiv.appendChild(runBtn);
                    
                    headerDiv.appendChild(titleSpan);
                    headerDiv.appendChild(statusSpan);
                    headerDiv.appendChild(btnDiv);
                    
                    // ØªÙˆØ¶ÛŒØ­Ø§Øª
                    const descDiv = document.createElement('div');
                    descDiv.className = 'test-desc';
                    descDiv.textContent = test.desc;
                    
                    // Ø¬Ø²Ø¦ÛŒØ§Øª Ù†ØªÛŒØ¬Ù‡
                    const detailDiv = document.createElement('div');
                    detailDiv.className = 'test-details';
                    if (status === null) {
                        detailDiv.textContent = 'â³ Ø¨Ø±Ø§ÛŒ Ø§Ø¬Ø±Ø§ Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯.';
                    } else if (status) {
                        detailDiv.textContent = 'âœ“ Ù†ØªÛŒØ¬Ù‡ Ù…ÙˆØ±Ø¯ Ø§Ù†ØªØ¸Ø§Ø± Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù‡ Ø´Ø¯.';
                    } else {
                        detailDiv.textContent = 'âœ— Ù†ØªÛŒØ¬Ù‡ Ø¨Ø§ Ø®Ø±ÙˆØ¬ÛŒ Ù…ÙˆØ±Ø¯ Ø§Ù†ØªØ¸Ø§Ø± Ù…Ø·Ø§Ø¨Ù‚Øª Ù†Ø¯Ø§Ø±Ø¯.';
                    }
                    
                    testDiv.appendChild(headerDiv);
                    testDiv.appendChild(descDiv);
                    testDiv.appendChild(detailDiv);
                    
                    container.appendChild(testDiv);
                });
            }

            // ----- Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ Ùˆ Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ -----
            document.getElementById('runAllTestsBtn').addEventListener('click', runAllTests);
            document.getElementById('resetBtn').addEventListener('click', resetAll);
            
            // Ø±Ù†Ø¯Ø± Ø§ÙˆÙ„ÛŒÙ‡ Ø¨Ø¯ÙˆÙ† Ø§Ø¬Ø±Ø§ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± Ù‡ÛŒÚ† ØªØ³ØªÛŒ
            renderTests();
            updateSummary();
            
            // Ù‡ÛŒÚ† Ø§Ø¬Ø±Ø§ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø±ÛŒ Ø¯Ø± start ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯
        })();
    </script>
</body>
</html>
