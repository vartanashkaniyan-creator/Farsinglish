<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5, user-scalable=yes">
    <title>ØªØ³Øª Ø¯Ø³ØªÛŒ Ø¬Ø±ÛŒØ§Ù† Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ùˆ Ø´Ø±ÙˆØ¹ Ø¯Ø±Ø³ - Farsinglish</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: 'Tahoma', 'Vazir', 'Segoe UI', sans-serif;
            background: linear-gradient(145deg, #667eea 0%, #764ba2 100%);
            padding: 16px;
            color: #1e293b;
            line-height: 1.6;
            min-height: 100vh;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        .header {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 30px;
            margin-bottom: 24px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            text-align: center;
            border: 1px solid rgba(255,255,255,0.5);
        }
        .header h1 {
            font-size: 1.9rem;
            color: #1e293b;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-bottom: 8px;
        }
        .card {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            border-radius: 32px;
            padding: 28px;
            margin-bottom: 24px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            border: 1px solid rgba(255,255,255,0.5);
        }
        .step {
            background: #ffffff;
            border-radius: 24px;
            padding: 24px;
            margin-bottom: 24px;
            border: 2px solid #e2e8f0;
            transition: all 0.3s;
            position: relative;
        }
        .step.active {
            border: 2px solid #10b981;
            box-shadow: 0 0 0 4px rgba(16,185,129,0.1);
        }
        .step h3 {
            display: flex;
            align-items: center;
            gap: 12px;
            color: #0f172a;
            margin-bottom: 20px;
            font-size: 1.4rem;
            border-bottom: 2px dashed #cbd5e1;
            padding-bottom: 12px;
        }
        .btn {
            background: linear-gradient(145deg, #3b82f6, #2563eb);
            color: white;
            border: none;
            padding: 16px 28px;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            box-shadow: 0 8px 16px rgba(37,99,235,0.3);
            width: 100%;
            margin: 12px 0;
            border: 1px solid rgba(255,255,255,0.3);
        }
        .btn:active { transform: scale(0.96); }
        .btn:disabled {
            opacity: 0.5;
            transform: none;
            box-shadow: none;
            pointer-events: none;
        }
        .btn-success { background: linear-gradient(145deg, #10b981, #059669); }
        .btn-warning { background: linear-gradient(145deg, #f59e0b, #d97706); }
        .log-panel {
            background: #0b1120;
            color: #e2e8f0;
            padding: 24px;
            border-radius: 20px;
            font-family: 'Courier New', monospace;
            direction: ltr;
            text-align: left;
            max-height: 350px;
            overflow-y: auto;
            font-size: 0.95rem;
            margin-top: 24px;
            border: 2px solid #334155;
            box-shadow: inset 0 4px 8px rgba(0,0,0,0.5);
        }
        .badge {
            background: #e2e8f0;
            color: #1e293b;
            padding: 8px 16px;
            border-radius: 40px;
            font-size: 0.9rem;
            display: inline-block;
            margin: 6px;
            font-weight: bold;
        }
        .progress-container {
            background: #e2e8f0;
            border-radius: 30px;
            height: 16px;
            margin: 24px 0;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #10b981);
            width: 0%;
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 30px;
        }
        .info-box {
            background: #eff6ff;
            padding: 20px;
            border-radius: 20px;
            margin: 16px 0;
            border-right: 6px solid #3b82f6;
        }
        .icon { font-size: 1.6rem; }
        @media (max-width: 600px) {
            .container { padding: 8px; }
            .header h1 { font-size: 1.5rem; }
            .card { padding: 20px; }
            .step { padding: 18px; }
            .btn { padding: 14px; font-size: 1rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>
                <span class="icon">ğŸ¯</span> 
                Farsinglish
                <span class="icon">ğŸš€</span>
            </h1>
            <div style="display: flex; justify-content: center; gap: 12px; flex-wrap: wrap;">
                <span class="badge">ğŸ“± ØªØ³Øª Ø¯Ø³ØªÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„</span>
                <span class="badge">ğŸ”„ Ø¬Ø±ÛŒØ§Ù† Ûµ Ù…Ø±Ø­Ù„Ù‡â€ŒØ§ÛŒ</span>
                <span class="badge">âœ… Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… â†’ Ø´Ø±ÙˆØ¹ Ø¯Ø±Ø³</span>
            </div>
        </div>

        <div class="card">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                <h2 style="font-size: 1.6rem; color: #0f172a;">ğŸ“‹ Ù¾Ù†Ù„ Ø§Ø¬Ø±Ø§ÛŒ Ø³Ù†Ø§Ø±ÛŒÙˆ</h2>
                <span id="flowStatus" style="background: #10b981; color: white; padding: 8px 20px; border-radius: 40px; font-weight: bold;">â³ Ø¢Ù…Ø§Ø¯Ù‡</span>
            </div>
            
            <div class="progress-container">
                <div id="flowProgress" class="progress-fill"></div>
            </div>

            <!-- Ù…Ø±Ø­Ù„Ù‡ Û±: Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… -->
            <div id="step1" class="step active">
                <h3><span class="icon">Û±ï¸âƒ£</span> Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯</h3>
                <div class="info-box">
                    <p style="display: flex; gap: 8px; margin-bottom: 8px;"><span>ğŸ‘¤</span> <strong>Ú©Ø§Ø±Ø¨Ø±:</strong> farsinglish_demo</p>
                    <p style="display: flex; gap: 8px; margin-bottom: 8px;"><span>ğŸ“§</span> <strong>Ø§ÛŒÙ…ÛŒÙ„:</strong> demo@farsinglish.app</p>
                    <p style="display: flex; gap: 8px; margin-bottom: 8px;"><span>ğŸ”‘</span> <strong>Ø±Ù…Ø²:</strong> Test@1234</p>
                    <p style="display: flex; gap: 8px;"><span>ğŸ‡®ğŸ‡·</span> <strong>Ø²Ø¨Ø§Ù†:</strong> ÙØ§Ø±Ø³ÛŒ (Ù¾ÛŒØ´â€ŒÙØ±Ø¶)</p>
                </div>
                <button id="registerBtn" class="btn btn-success" onclick="handleRegister()">
                    <span>âœ…</span> Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯
                </button>
            </div>

            <!-- Ù…Ø±Ø­Ù„Ù‡ Û²: ÙˆØ±ÙˆØ¯ -->
            <div id="step2" class="step" style="opacity: 0.6;">
                <h3><span class="icon">Û²ï¸âƒ£</span> ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ</h3>
                <button id="loginBtn" class="btn" onclick="handleLogin()" disabled>
                    <span>ğŸ”</span> ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø³ÛŒØ³ØªÙ…
                </button>
            </div>

            <!-- Ù…Ø±Ø­Ù„Ù‡ Û³: Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø±Ø³â€ŒÙ‡Ø§ -->
            <div id="step3" class="step" style="opacity: 0.6;">
                <h3><span class="icon">Û³ï¸âƒ£</span> Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø±Ø³â€ŒÙ‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡</h3>
                <button id="loadLessonsBtn" class="btn" onclick="handleLoadLessons()" disabled>
                    <span>ğŸ“š</span> Ø¯Ø±ÛŒØ§ÙØª Ù„ÛŒØ³Øª Ø¯Ø±Ø³â€ŒÙ‡Ø§ Ø§Ø² Ø³Ø±ÙˆØ±
                </button>
            </div>

            <!-- Ù…Ø±Ø­Ù„Ù‡ Û´: Ø§Ù†ØªØ®Ø§Ø¨ Ø§ÙˆÙ„ÛŒÙ† Ø¯Ø±Ø³ -->
            <div id="step4" class="step" style="opacity: 0.6;">
                <h3><span class="icon">Û´ï¸âƒ£</span> Ø§Ù†ØªØ®Ø§Ø¨ Ùˆ Ø´Ø±ÙˆØ¹ Ø§ÙˆÙ„ÛŒÙ† Ø¯Ø±Ø³</h3>
                <div id="lessonList" style="display: none; background: #f8fafc; padding: 16px; border-radius: 16px; margin-bottom: 16px;">
                    <div style="margin-bottom: 12px; padding: 12px; background: white; border-radius: 12px; border: 2px solid #e2e8f0;">
                        <input type="radio" name="lesson" id="lesson1" value="lesson_1" checked style="transform: scale(1.2); margin-left: 12px;">
                        <label for="lesson1"><strong>ğŸ“˜ Ø¯Ø±Ø³ Û±:</strong> Ø§Ù„ÙØ¨Ø§ÛŒ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ - Ù…Ù‚Ø¯Ù…Ø§ØªÛŒ (Û¸ Ú©Ø§Ø±Øª)</label>
                    </div>
                    <div style="padding: 12px; background: white; border-radius: 12px; border: 2px solid #e2e8f0;">
                        <input type="radio" name="lesson" id="lesson2" value="lesson_2" style="transform: scale(1.2); margin-left: 12px;">
                        <label for="lesson2"><strong>ğŸ“— Ø¯Ø±Ø³ Û²:</strong> Greetings - Ø§Ø­ÙˆØ§Ù„Ù¾Ø±Ø³ÛŒ (Û±Û² Ú©Ø§Ø±Øª)</label>
                    </div>
                </div>
                <button id="selectLessonBtn" class="btn" onclick="handleSelectLesson()" disabled>
                    <span>ğŸ¯</span> Ø§Ù†ØªØ®Ø§Ø¨ Ø¯Ø±Ø³ Ùˆ Ø§Ø¯Ø§Ù…Ù‡
                </button>
            </div>

            <!-- Ù…Ø±Ø­Ù„Ù‡ Ûµ: Ù†Ù…Ø§ÛŒØ´ Ø¯Ø±Ø³ Ùˆ ØªÙ…Ø±ÛŒÙ† -->
            <div id="step5" class="step" style="opacity: 0.6;">
                <h3><span class="icon">Ûµï¸âƒ£</span> Ù†Ù…Ø§ÛŒØ´ Ø¯Ø±Ø³ Ùˆ ØªÙ…Ø±ÛŒÙ† Ø§ÙˆÙ„</h3>
                <div id="lessonDisplay" style="background: linear-gradient(145deg, #fef9c3, #fef08a); padding: 24px; border-radius: 20px; display: none; margin-bottom: 16px;">
                    <p style="font-size: 1.6rem; margin-bottom: 12px; color: #0f172a;">ğŸ“– Hello, how are you?</p>
                    <p style="font-size: 1.3rem; color: #334155; margin-bottom: 20px;">ğŸ“ Ø³Ù„Ø§Ù…ØŒ Ú†Ø·ÙˆØ±ÛŒØŸ</p>
                    <div style="border-top: 2px dashed #94a3b8; margin: 16px 0;"></div>
                    <p style="font-size: 1.2rem; margin-bottom: 16px;"><strong>ğŸ“ ØªÙ…Ø±ÛŒÙ†:</strong> Ù…Ø¹Ø§Ø¯Ù„ ÙØ§Ø±Ø³ÛŒ ØµØ­ÛŒØ­ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:</p>
                    <div style="display: grid; gap: 12px;">
                        <button class="btn" style="background: #475569;" onclick="logMessage('âœ… Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­: Ø³Ù„Ø§Ù…ØŒ Ú†Ø·ÙˆØ±ÛŒØŸ')">Ø³Ù„Ø§Ù…ØŒ Ú†Ø·ÙˆØ±ÛŒØŸ</button>
                        <button class="btn" style="background: #64748b;" onclick="logMessage('âŒ Ù¾Ø§Ø³Ø® ØºÙ„Ø·: Ø®Ø¯Ø§Ø­Ø§ÙØ¸')">Ø®Ø¯Ø§Ø­Ø§ÙØ¸</button>
                        <button class="btn" style="background: #64748b;" onclick="logMessage('âŒ Ù¾Ø§Ø³Ø® ØºÙ„Ø·: ØµØ¨Ø­ Ø¨Ø®ÛŒØ±')">ØµØ¨Ø­ Ø¨Ø®ÛŒØ±</button>
                    </div>
                </div>
                <button id="startLessonBtn" class="btn" onclick="handleStartLesson()" disabled>
                    <span>ğŸ“–</span> Ø´Ø±ÙˆØ¹ ØªÙ…Ø±ÛŒÙ† Ùˆ Ù…Ø±ÙˆØ± Ù‡ÙˆØ´Ù…Ù†Ø¯
                </button>
            </div>

            <!-- Ø¯Ú©Ù…Ù‡ Ø±ÛŒØ³Øª -->
            <button id="resetBtn" class="btn btn-warning" onclick="resetFlow()" style="margin-top: 16px;">
                <span>ğŸ”„</span> Ø´Ø±ÙˆØ¹ Ù…Ø¬Ø¯Ø¯ Ø¬Ø±ÛŒØ§Ù† Ø§Ø² Ø§Ø¨ØªØ¯Ø§
            </button>

            <!-- Ù„Ø§Ú¯ Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ -->
            <div style="margin-top: 32px;">
                <h3 style="display: flex; gap: 12px; align-items: center; margin-bottom: 16px;">
                    <span style="font-size: 1.5rem;">ğŸ“‹</span> 
                    <span style="font-size: 1.3rem;">Ú¯Ø²Ø§Ø±Ø´ Ø§Ø¬Ø±Ø§ÛŒ Ú¯Ø§Ù…â€ŒÙ‡Ø§</span>
                    <button onclick="clearLog()" style="background: #e2e8f0; border: none; padding: 8px 20px; border-radius: 40px; font-size: 0.9rem; margin-right: auto; display: flex; gap: 6px; align-items: center;">
                        <span>ğŸ§¹</span> Ù¾Ø§Ú©â€ŒÚ©Ø±Ø¯Ù†
                    </button>
                </h3>
                <div id="logPanel" class="log-panel">
                    ğŸš€ ØªØ³Øª Ø¯Ø³ØªÛŒ Ø¬Ø±ÛŒØ§Ù† Ú©Ø§Ø±Ø¨Ø± Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø¬Ø±Ø§ Ø§Ø³Øª<br>
                    ğŸ‘† Ù„Ø·ÙØ§Ù‹ Ù…Ø±Ø§Ø­Ù„ Ø±Ø§ Ø¨Ù‡ ØªØ±ØªÛŒØ¨ Ø§Ø² Ù…Ø±Ø­Ù„Ù‡ Û± Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒØ¯<br>
                    â±ï¸ Ù…Ù†ØªØ¸Ø± Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…...
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 24px; color: #64748b; font-size: 0.9rem;">
                Farsinglish v1.0 | ØªØ³Øª Ø¬Ø±ÛŒØ§Ù† Ø§ØµÙ„ÛŒ | PWA Ready
            </div>
        </div>
    </div>

    <script>
        // ---------- ÙˆØ¶Ø¹ÛŒØª Ø¬Ø±ÛŒØ§Ù† ----------
        const FlowState = {
            userRegistered: false,
            userLoggedIn: false,
            lessonsLoaded: false,
            lessonSelected: false,
            lessonStarted: false,
            
            updateUI() {
                // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…Ø±Ø­Ù„Ù‡ Û²
                const step2 = document.getElementById('step2');
                const loginBtn = document.getElementById('loginBtn');
                if (this.userRegistered) {
                    step2.style.opacity = '1';
                    step2.classList.add('active');
                    loginBtn.disabled = false;
                    document.getElementById('flowStatus').innerHTML = 'âœ… Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ø§Ù…Ù„';
                }
                
                // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…Ø±Ø­Ù„Ù‡ Û³
                const step3 = document.getElementById('step3');
                const loadBtn = document.getElementById('loadLessonsBtn');
                if (this.userLoggedIn) {
                    step3.style.opacity = '1';
                    step3.classList.add('active');
                    loadBtn.disabled = false;
                    document.getElementById('flowStatus').innerHTML = 'ğŸ”“ ÙˆØ§Ø±Ø¯ Ø´Ø¯ÛŒØ¯';
                }
                
                // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…Ø±Ø­Ù„Ù‡ Û´
                const step4 = document.getElementById('step4');
                const lessonList = document.getElementById('lessonList');
                const selectBtn = document.getElementById('selectLessonBtn');
                if (this.lessonsLoaded) {
                    step4.style.opacity = '1';
                    step4.classList.add('active');
                    lessonList.style.display = 'block';
                    selectBtn.disabled = false;
                    document.getElementById('flowStatus').innerHTML = 'ğŸ“š Ø¯Ø±Ø³â€ŒÙ‡Ø§ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯';
                }
                
                // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…Ø±Ø­Ù„Ù‡ Ûµ
                const step5 = document.getElementById('step5');
                const startBtn = document.getElementById('startLessonBtn');
                if (this.lessonSelected) {
                    step5.style.opacity = '1';
                    step5.classList.add('active');
                    startBtn.disabled = false;
                    document.getElementById('flowStatus').innerHTML = 'ğŸ¯ Ø¯Ø±Ø³ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯';
                }
                
                // Ù†Ù…Ø§ÛŒØ´ Ø¯Ø±Ø³
                const lessonDisplay = document.getElementById('lessonDisplay');
                if (this.lessonStarted) {
                    lessonDisplay.style.display = 'block';
                    document.getElementById('flowStatus').innerHTML = 'ğŸ“– Ø¯Ø± Ø­Ø§Ù„ ØªÙ…Ø±ÛŒÙ†';
                }
                
                this.updateProgressBar();
            },
            
            updateProgressBar() {
                let progress = 0;
                if (this.userRegistered) progress += 20;
                if (this.userLoggedIn) progress += 20;
                if (this.lessonsLoaded) progress += 20;
                if (this.lessonSelected) progress += 20;
                if (this.lessonStarted) progress += 20;
                document.getElementById('flowProgress').style.width = progress + '%';
            },
            
            reset() {
                this.userRegistered = false;
                this.userLoggedIn = false;
                this.lessonsLoaded = false;
                this.lessonSelected = false;
                this.lessonStarted = false;
                
                // Ø±ÛŒØ³Øª UI
                document.getElementById('step1').classList.add('active');
                document.getElementById('step2').style.opacity = '0.6';
                document.getElementById('step3').style.opacity = '0.6';
                document.getElementById('step4').style.opacity = '0.6';
                document.getElementById('step5').style.opacity = '0.6';
                
                document.getElementById('step2').classList.remove('active');
                document.getElementById('step3').classList.remove('active');
                document.getElementById('step4').classList.remove('active');
                document.getElementById('step5').classList.remove('active');
                
                document.getElementById('loginBtn').disabled = true;
                document.getElementById('loadLessonsBtn').disabled = true;
                document.getElementById('lessonList').style.display = 'none';
                document.getElementById('selectLessonBtn').disabled = true;
                document.getElementById('startLessonBtn').disabled = true;
                document.getElementById('lessonDisplay').style.display = 'none';
                
                this.updateProgressBar();
                document.getElementById('flowStatus').innerHTML = 'â³ Ø¢Ù…Ø§Ø¯Ù‡';
            }
        };

        // ---------- ØªÙˆØ§Ø¨Ø¹ Ù„Ø§Ú¯ ----------
        function logMessage(msg) {
            const logPanel = document.getElementById('logPanel');
            const time = new Date().toLocaleTimeString('fa-IR', { hour12: false });
            logPanel.innerHTML += `<div style="margin-bottom: 6px; border-bottom: 1px solid #334155; padding-bottom: 4px;">â±ï¸ ${time} | ${msg}</div>`;
            logPanel.scrollTop = logPanel.scrollHeight;
        }

        function clearLog() {
            document.getElementById('logPanel').innerHTML = 'ğŸ§¹ Ù„Ø§Ú¯ Ù¾Ø§Ú© Ø´Ø¯. Ù…Ù†ØªØ¸Ø± Ø¹Ù…Ù„ÛŒØ§Øª Ø¬Ø¯ÛŒØ¯...';
            logMessage('Ú¯Ø²Ø§Ø±Ø´ Ø§Ø¬Ø±Ø§ Ù¾Ø§Ú© Ø´Ø¯');
        }

        // ---------- Ù‡Ù†Ø¯Ù„Ø±Ù‡Ø§ ----------
        function handleRegister() {
            logMessage('ğŸ“ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯...');
            setTimeout(() => {
                FlowState.userRegistered = true;
                FlowState.updateUI();
                logMessage('âœ… Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ù…ÙˆÙÙ‚: Ú©Ø§Ø±Ø¨Ø± farsinglish_demo Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯');
                logMessage('ğŸ‰ Ù…Ø±Ø­Ù„Ù‡ Û± Ø§Ø² Ûµ: Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯');
                document.getElementById('flowStatus').innerHTML = 'âœ… Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ø§Ù…Ù„';
            }, 600);
        }

        function handleLogin() {
            logMessage('ğŸ”‘ Ø¯Ø±Ø®ÙˆØ§Ø³Øª ÙˆØ±ÙˆØ¯...');
            setTimeout(() => {
                FlowState.userLoggedIn = true;
                FlowState.updateUI();
                logMessage('ğŸ”“ ÙˆØ±ÙˆØ¯ Ù…ÙˆÙÙ‚: ØªÙˆÚ©Ù† JWT ØµØ§Ø¯Ø± Ø´Ø¯');
                logMessage('ğŸ‘¤ Ú©Ø§Ø±Ø¨Ø±: farsinglish_demo | Ù†Ù‚Ø´: student');
                logMessage('ğŸ‰ Ù…Ø±Ø­Ù„Ù‡ Û² Ø§Ø² Ûµ: ÙˆØ±ÙˆØ¯ Ù…ÙˆÙÙ‚');
            }, 600);
        }

        function handleLoadLessons() {
            logMessage('ğŸŒ Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø±Ø³â€ŒÙ‡Ø§ Ø§Ø² Ø³Ø±ÙˆØ±...');
            setTimeout(() => {
                FlowState.lessonsLoaded = true;
                FlowState.updateUI();
                logMessage('ğŸ“š Û±Û² Ø¯Ø±Ø³ Ù†Ù…ÙˆÙ†Ù‡ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯');
                logMessage('ğŸ“Œ Ø¯Ø±Ø³ Û±: Ø§Ù„ÙØ¨Ø§ÛŒ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ (Û¸ Ú©Ø§Ø±Øª) - Ø³Ø·Ø­ Û±');
                logMessage('ğŸ“Œ Ø¯Ø±Ø³ Û²: Ø§Ø­ÙˆØ§Ù„Ù¾Ø±Ø³ÛŒ (Û±Û² Ú©Ø§Ø±Øª) - Ø³Ø·Ø­ Û±');
                logMessage('ğŸ‰ Ù…Ø±Ø­Ù„Ù‡ Û³ Ø§Ø² Ûµ: Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø±Ø³â€ŒÙ‡Ø§');
            }, 800);
        }

        function handleSelectLesson() {
            const selected = document.querySelector('input[name="lesson"]:checked');
            const lessonName = selected ? selected.nextElementSibling.textContent.trim() : 'Ø¯Ø±Ø³ Û±: Ø§Ù„ÙØ¨Ø§ÛŒ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ';
            
            logMessage(`ğŸ“Œ Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†ØªØ®Ø§Ø¨ ${lessonName}...`);
            setTimeout(() => {
                FlowState.lessonSelected = true;
                FlowState.updateUI();
                logMessage(`âœ… Ø¯Ø±Ø³ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯: ${lessonName}`);
                logMessage('ğŸ¯ Ø¢Ù…Ø§Ø¯Ù‡ Ø´Ø±ÙˆØ¹ ØªÙ…Ø±ÛŒÙ† Ùˆ Ù…Ø±ÙˆØ± Ù‡ÙˆØ´Ù…Ù†Ø¯');
                logMessage('ğŸ‰ Ù…Ø±Ø­Ù„Ù‡ Û´ Ø§Ø² Ûµ: Ø§Ù†ØªØ®Ø§Ø¨ Ø¯Ø±Ø³');
            }, 500);
        }

        function handleStartLesson() {
            logMessage('ğŸ“– Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØµÙØ­Ù‡ Ø¯Ø±Ø³...');
            setTimeout(() => {
                FlowState.lessonStarted = true;
                FlowState.updateUI();
                logMessage('ğŸ“– ØµÙØ­Ù‡ Ø¯Ø±Ø³ Ø¨Ø§Ø² Ø´Ø¯: "Hello, how are you?"');
                logMessage('ğŸ“ Ø§ÙˆÙ„ÛŒÙ† ØªÙ…Ø±ÛŒÙ†: Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø¹Ø§Ø¯Ù„ ÙØ§Ø±Ø³ÛŒ');
                logMessage('ğŸ‰ Ù…Ø±Ø­Ù„Ù‡ Ûµ Ø§Ø² Ûµ: Ø´Ø±ÙˆØ¹ ØªÙ…Ø±ÛŒÙ†');
                logMessage('ğŸ† âœ…âœ…âœ… Ø¬Ø±ÛŒØ§Ù† Ú©Ø§Ù…Ù„ Ú©Ø§Ø±Ø¨Ø± Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯! âœ…âœ…âœ…');
            }, 700);
        }

        function resetFlow() {
            FlowState.reset();
            logMessage('ğŸ”„ Ø¬Ø±ÛŒØ§Ù† Ú©Ø§Ø±Ø¨Ø± Ø±ÛŒØ³Øª Ø´Ø¯. Ø§Ø² Ù…Ø±Ø­Ù„Ù‡ Û± Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒØ¯.');
            logMessage('ğŸ‘† Ù„Ø·ÙØ§Ù‹ Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ "Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯" Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯');
        }

        // ---------- Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ ----------
        window.onload = function() {
            FlowState.reset();
            logMessage('ğŸš€ Farsinglish - ØªØ³Øª Ø¯Ø³ØªÛŒ Ø¬Ø±ÛŒØ§Ù† Ú©Ø§Ø±Ø¨Ø±');
            logMessage('ğŸ“± Ù…Ø­ÛŒØ·: Ù…ÙˆØ¨Ø§ÛŒÙ„ | PWA | Ù†Ø³Ø®Ù‡ Û±.Û°');
            logMessage('ğŸ‘† Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ØŒ Ù…Ø±Ø­Ù„Ù‡ Û± Ø±Ø§ Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒØ¯');
        };
    </script>
</body>
                          </html>
