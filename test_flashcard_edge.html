<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ³Øª Ù„Ø¨Ù‡â€ŒÙ‡Ø§ÛŒ ÙÙ„Ø´ Ú©Ø§Ø±Øª | Farsinglish</title>
    <style>
        body {
            font-family: 'Vazir', 'Tahoma', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            color: #333;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            font-size: 2rem;
        }
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .test-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }
        .test-card h3 {
            margin-top: 0;
            color: #667eea;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 10px;
        }
        .flashcard-preview {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            text-align: center;
            border: 2px solid #dee2e6;
            min-height: 100px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .flashcard-preview[data-flipped="true"] .front {
            display: none;
        }
        .flashcard-preview[data-flipped="true"] .back {
            display: block;
        }
        .flashcard-preview .front,
        .flashcard-preview .back {
            font-size: 1.2rem;
            font-weight: bold;
        }
        .flashcard-preview .front {
            color: #28a745;
        }
        .flashcard-preview .back {
            color: #dc3545;
            display: none;
        }
        .btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 5px;
            font-weight: bold;
        }
        .btn:hover {
            background: #764ba2;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .btn-danger {
            background: #dc3545;
        }
        .btn-danger:hover {
            background: #c82333;
        }
        .btn-success {
            background: #28a745;
        }
        .btn-success:hover {
            background: #218838;
        }
        .btn-warning {
            background: #ffc107;
            color: #333;
        }
        .btn-warning:hover {
            background: #e0a800;
        }
        .result-box {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border-left: 4px solid #667eea;
            font-family: monospace;
            white-space: pre-wrap;
            direction: ltr;
            text-align: left;
            max-height: 200px;
            overflow-y: auto;
        }
        .success { color: #28a745; font-weight: bold; }
        .error { color: #dc3545; font-weight: bold; }
        .warning { color: #ffc107; font-weight: bold; }
        .summary {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-top: 30px;
        }
        .summary h2 {
            color: #667eea;
            margin-top: 0;
        }
        .status-badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.9rem;
            font-weight: bold;
            margin: 2px;
        }
        .badge-success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .badge-danger { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .badge-warning { background: #fff3cd; color: #856404; border: 1px solid #ffeeba; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ´ ØªØ³Øª Ù„Ø¨Ù‡â€ŒÙ‡Ø§ÛŒ ÙÙ„Ø´ Ú©Ø§Ø±Øª</h1>
        <h2 style="text-align: center; color: white; margin-bottom: 30px;">Ù¾Ø§Ø³Ø® Ø®Ø§Ù„ÛŒ Â· Ú©Ø§Ø±Øª Ù†Ø§Ù…Ø¹ØªØ¨Ø± Â· Ø­Ø§Ù„Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø±Ø²ÛŒ</h2>

        <div class="test-grid">
            <!-- ØªØ³Øª Ù¾Ø§Ø³Ø® Ø®Ø§Ù„ÛŒ -->
            <div class="test-card">
                <h3>ğŸ“ ØªØ³Øª Û±: Ù¾Ø§Ø³Ø® Ø®Ø§Ù„ÛŒ</h3>
                <div class="flashcard-preview" id="emptyAnswerPreview">
                    <div class="front">Ú©Ù„Ù…Ù‡: "Apple"</div>
                    <div class="back">Ù¾Ø§Ø³Ø®: "???"</div>
                </div>
                <div style="text-align: center; margin: 10px 0;">
                    <button class="btn" onclick="testEmptyAnswer()">Ø´Ø±ÙˆØ¹ ØªØ³Øª Ù¾Ø§Ø³Ø® Ø®Ø§Ù„ÛŒ</button>
                    <button class="btn btn-warning" onclick="resetEmptyAnswer()">ğŸ”„ Ø±ÛŒØ³Øª</button>
                </div>
                <div id="emptyAnswerResult" class="result-box">
                    Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ ØªØ³Øª Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯...
                </div>
            </div>

            <!-- ØªØ³Øª Ú©Ø§Ø±Øª Ù†Ø§Ù…Ø¹ØªØ¨Ø± -->
            <div class="test-card">
                <h3>âš ï¸ ØªØ³Øª Û²: Ú©Ø§Ø±Øª Ù†Ø§Ù…Ø¹ØªØ¨Ø±</h3>
                <div class="flashcard-preview" id="invalidCardPreview">
                    <div class="front">Ú©Ø§Ø±Øª: ???</div>
                    <div class="back">ÙˆØ¶Ø¹ÛŒØª: Ù†Ø§Ù…Ø¹ØªØ¨Ø±</div>
                </div>
                <div style="text-align: center; margin: 10px 0;">
                    <button class="btn" onclick="testInvalidCard()">Ø´Ø±ÙˆØ¹ ØªØ³Øª Ú©Ø§Ø±Øª Ù†Ø§Ù…Ø¹ØªØ¨Ø±</button>
                    <button class="btn btn-success" onclick="createValidCard()">â• Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø§Ø±Øª Ù…Ø¹ØªØ¨Ø±</button>
                </div>
                <div id="invalidCardResult" class="result-box">
                    Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ ØªØ³Øª Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯...
                </div>
            </div>

            <!-- ØªØ³Øª Ø¯Ø§Ø¯Ù‡ Ù†Ø§Ù‚Øµ -->
            <div class="test-card">
                <h3>ğŸ” ØªØ³Øª Û³: Ø¯Ø§Ø¯Ù‡ Ù†Ø§Ù‚Øµ</h3>
                <div class="flashcard-preview" id="incompleteDataPreview">
                    <div class="front">Ø¨Ø¯ÙˆÙ† Ù¾Ø§Ø³Ø®</div>
                    <div class="back">Ø¨Ø¯ÙˆÙ† Ú©Ù„Ù…Ù‡</div>
                </div>
                <div style="text-align: center; margin: 10px 0;">
                    <button class="btn" onclick="testIncompleteData()">Ø´Ø±ÙˆØ¹ ØªØ³Øª Ø¯Ø§Ø¯Ù‡ Ù†Ø§Ù‚Øµ</button>
                    <button class="btn btn-danger" onclick="testMissingField()">ğŸ§ª ØªØ³Øª ÙÛŒÙ„Ø¯ Ú¯Ù…â€ŒØ´Ø¯Ù‡</button>
                </div>
                <div id="incompleteDataResult" class="result-box">
                    Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ ØªØ³Øª Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯...
                </div>
            </div>

            <!-- ØªØ³Øª Ù†ÙˆØ¹ Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡ -->
            <div class="test-card">
                <h3>â“ ØªØ³Øª Û´: Ù†ÙˆØ¹ Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡</h3>
                <div class="flashcard-preview" id="unknownTypePreview">
                    <div class="front">Ù†ÙˆØ¹: "xyz"</div>
                    <div class="back">ÙˆØ±ÙˆØ¯ÛŒ Ù†Ø§Ù…Ø¹ØªØ¨Ø±</div>
                </div>
                <div style="text-align: center; margin: 10px 0;">
                    <button class="btn" onclick="testUnknownType()">Ø´Ø±ÙˆØ¹ ØªØ³Øª Ù†ÙˆØ¹ Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡</button>
                </div>
                <div id="unknownTypeResult" class="result-box">
                    Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ ØªØ³Øª Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯...
                </div>
            </div>
        </div>

        <!-- Ø®Ù„Ø§ØµÙ‡ ØªØ³Øªâ€ŒÙ‡Ø§ -->
        <div class="summary">
            <h2>ğŸ“Š Ø®Ù„Ø§ØµÙ‡ ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ù„Ø¨Ù‡ ÙÙ„Ø´ Ú©Ø§Ø±Øª</h2>
            <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 15px;">
                <span class="status-badge badge-success" id="successCount">âœ… Ù…ÙˆÙÙ‚: 0</span>
                <span class="status-badge badge-danger" id="failCount">âŒ Ù†Ø§Ù…ÙˆÙÙ‚: 0</span>
                <span class="status-badge badge-warning" id="totalCount">ğŸ“‹ Ú©Ù„ ØªØ³Øªâ€ŒÙ‡Ø§: 4</span>
            </div>
            <button class="btn" onclick="runAllEdgeTests()" style="width: 100%;">â–¶ï¸ Ø§Ø¬Ø±Ø§ÛŒ Ù‡Ù…Ù‡ ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ù„Ø¨Ù‡</button>
            <button class="btn btn-danger" onclick="resetAllTests()" style="width: 100%; margin-top: 10px;">ğŸ”„ Ø±ÛŒØ³Øª Ù‡Ù…Ù‡ ØªØ³Øªâ€ŒÙ‡Ø§</button>
        </div>

        <!-- Ù„Ø§Ú¯ Ú©Ø§Ù…Ù„ -->
        <div class="summary" style="margin-top: 20px;">
            <h3>ğŸ“‹ Ù„Ø§Ú¯ Ú©Ø§Ù…Ù„ ØªØ³Øªâ€ŒÙ‡Ø§</h3>
            <div id="fullLog" class="result-box" style="max-height: 300px;">
                -- ØªØ³Øªâ€ŒÙ‡Ø§ Ø´Ø±ÙˆØ¹ Ù†Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯ --
            </div>
        </div>
    </div>

    <script>
        // Ú©Ù„Ø§Ø³ ÙÙ„Ø´ Ú©Ø§Ø±Øª Ø¨Ø±Ø§ÛŒ ØªØ³Øª
        class FlashCard {
            constructor(word, translation, options = {}) {
                this.word = word || '';
                this.translation = translation || '';
                this.isFlipped = false;
                this.valid = this.validate();
            }

            validate() {
                return this.word && this.word.trim() !== '' && 
                       this.translation && this.translation.trim() !== '';
            }

            flip() {
                if (!this.validate()) return false;
                this.isFlipped = !this.isFlipped;
                return true;
            }

            getFront() {
                return this.validate() ? this.word : 'âŒ Ú©Ø§Ø±Øª Ù†Ø§Ù…Ø¹ØªØ¨Ø±';
            }

            getBack() {
                return this.validate() ? this.translation : 'âŒ Ø¯Ø§Ø¯Ù‡ Ù†Ø§Ù‚Øµ';
            }

            checkAnswer(userAnswer) {
                if (!this.validate()) return { valid: false, error: 'Ú©Ø§Ø±Øª Ù†Ø§Ù…Ø¹ØªØ¨Ø±' };
                if (!userAnswer || userAnswer.trim() === '') {
                    return { valid: false, error: 'Ù¾Ø§Ø³Ø® Ø®Ø§Ù„ÛŒ' };
                }
                const isCorrect = userAnswer.trim().toLowerCase() === this.translation.toLowerCase();
                return {
                    valid: true,
                    correct: isCorrect,
                    expected: this.translation,
                    received: userAnswer
                };
            }

            static createInvalid() {
                return new FlashCard('', '');
            }

            static createPartial(word) {
                return new FlashCard(word, '');
            }

            static createUnknownType(data) {
                return { type: 'unknown', data: data };
            }
        }

        // Ø­Ø§Ù„Øª ØªØ³Øªâ€ŒÙ‡Ø§
        let testResults = {
            emptyAnswer: null,
            invalidCard: null,
            incompleteData: null,
            unknownType: null
        };

        // ØªØ§Ø¨Ø¹ Ù„Ø§Ú¯
        function log(message, type = 'info') {
            const logDiv = document.getElementById('fullLog');
            const timestamp = new Date().toLocaleTimeString('fa-IR');
            const prefix = type === 'success' ? 'âœ…' : type === 'error' ? 'âŒ' : type === 'warning' ? 'âš ï¸' : 'ğŸ“Œ';
            logDiv.innerHTML = `${prefix} [${timestamp}] ${message}\n` + logDiv.innerHTML;
            if (logDiv.children.length > 10) {
                logDiv.removeChild(logDiv.lastChild);
            }
            updateSummary();
        }

        // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø®Ù„Ø§ØµÙ‡
        function updateSummary() {
            let success = 0, fail = 0;
            Object.values(testResults).forEach(result => {
                if (result === true) success++;
                else if (result === false) fail++;
            });
            document.getElementById('successCount').innerText = `âœ… Ù…ÙˆÙÙ‚: ${success}`;
            document.getElementById('failCount').innerText = `âŒ Ù†Ø§Ù…ÙˆÙÙ‚: ${fail}`;
        }

        // Ø±ÛŒØ³Øª Ù‡Ù…Ù‡ ØªØ³Øªâ€ŒÙ‡Ø§
        function resetAllTests() {
            testResults = {
                emptyAnswer: null,
                invalidCard: null,
                incompleteData: null,
                unknownType: null
            };
            document.getElementById('emptyAnswerResult').innerText = 'Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ ØªØ³Øª Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯...';
            document.getElementById('invalidCardResult').innerText = 'Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ ØªØ³Øª Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯...';
            document.getElementById('incompleteDataResult').innerText = 'Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ ØªØ³Øª Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯...';
            document.getElementById('unknownTypeResult').innerText = 'Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ ØªØ³Øª Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯...';
            document.getElementById('fullLog').innerHTML = '-- Ù„Ø§Ú¯ Ù¾Ø§Ú© Ø´Ø¯ --';
            document.getElementById('emptyAnswerPreview').setAttribute('data-flipped', 'false');
            updateSummary();
            log('Ù‡Ù…Ù‡ ØªØ³Øªâ€ŒÙ‡Ø§ Ø±ÛŒØ³Øª Ø´Ø¯Ù†Ø¯', 'warning');
        }

        // ØªØ³Øª Û±: Ù¾Ø§Ø³Ø® Ø®Ø§Ù„ÛŒ
        function testEmptyAnswer() {
            log('ğŸ§ª Ø´Ø±ÙˆØ¹ ØªØ³Øª Ù¾Ø§Ø³Ø® Ø®Ø§Ù„ÛŒ...', 'info');
            const card = new FlashCard('Apple', 'Ø³ÛŒØ¨');
            
            try {
                // ØªØ³Øª Û±.Û±: Ù¾Ø§Ø³Ø® Ø®Ø§Ù„ÛŒ
                const result1 = card.checkAnswer('');
                log(`ØªØ³Øª Û±.Û± - Ù¾Ø§Ø³Ø® Ø®Ø§Ù„ÛŒ: ${result1.valid ? 'âŒ' : 'âœ…'} (Ø®Ø·Ø§: ${result1.error})`, result1.valid ? 'error' : 'success');
                
                // ØªØ³Øª Û±.Û²: Ù¾Ø§Ø³Ø® ÙÙ‚Ø· space
                const result2 = card.checkAnswer('   ');
                log(`ØªØ³Øª Û±.Û² - Ù¾Ø§Ø³Ø® space: ${result2.valid ? 'âŒ' : 'âœ…'} (Ø®Ø·Ø§: ${result2.error})`, result2.valid ? 'error' : 'success');
                
                // ØªØ³Øª Û±.Û³: Ù¾Ø§Ø³Ø® null
                const result3 = card.checkAnswer(null);
                log(`ØªØ³Øª Û±.Û³ - Ù¾Ø§Ø³Ø® null: ${result3.valid ? 'âŒ' : 'âœ…'} (Ø®Ø·Ø§: ${result3.error})`, result3.valid ? 'error' : 'success');
                
                // ØªØ³Øª Û±.Û´: Ù¾Ø§Ø³Ø® undefined
                const result4 = card.checkAnswer(undefined);
                log(`ØªØ³Øª Û±.Û´ - Ù¾Ø§Ø³Ø® undefined: ${result4.valid ? 'âŒ' : 'âœ…'} (Ø®Ø·Ø§: ${result4.error})`, result4.valid ? 'error' : 'success');

                const allPassed = !result1.valid && !result2.valid && !result3.valid && !result4.valid;
                testResults.emptyAnswer = allPassed;
                
                document.getElementById('emptyAnswerResult').innerHTML = allPassed ? 
                    '<span class="success">âœ… Ù‡Ù…Ù‡ ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ù¾Ø§Ø³Ø® Ø®Ø§Ù„ÛŒ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ú¯Ø°Ø±Ø§Ù†Ø¯Ù‡ Ø´Ø¯Ù†Ø¯</span>' : 
                    '<span class="error">âŒ Ø¨Ø±Ø®ÛŒ ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ù¾Ø§Ø³Ø® Ø®Ø§Ù„ÛŒ Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯Ù†Ø¯</span>';
                
                log(`âœ… ØªØ³Øª Ù¾Ø§Ø³Ø® Ø®Ø§Ù„ÛŒ ${allPassed ? 'Ú¯Ø°Ø±Ø§Ù†Ø¯Ù‡ Ø´Ø¯' : 'Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯'}`, allPassed ? 'success' : 'error');
            } catch (error) {
                testResults.emptyAnswer = false;
                document.getElementById('emptyAnswerResult').innerHTML = `<span class="error">âŒ Ø®Ø·Ø§: ${error.message}</span>`;
                log(`âŒ Ø®Ø·Ø§ Ø¯Ø± ØªØ³Øª Ù¾Ø§Ø³Ø® Ø®Ø§Ù„ÛŒ: ${error.message}`, 'error');
            }
        }

        // ØªØ³Øª Û²: Ú©Ø§Ø±Øª Ù†Ø§Ù…Ø¹ØªØ¨Ø±
        function testInvalidCard() {
            log('ğŸ§ª Ø´Ø±ÙˆØ¹ ØªØ³Øª Ú©Ø§Ø±Øª Ù†Ø§Ù…Ø¹ØªØ¨Ø±...', 'info');
            
            try {
                // ØªØ³Øª Û².Û±: Ú©Ø§Ø±Øª Ø¨Ø§ Ø¯Ø§Ø¯Ù‡ Ø®Ø§Ù„ÛŒ
                const card1 = FlashCard.createInvalid();
                log(`ØªØ³Øª Û².Û± - Ú©Ø§Ø±Øª Ø®Ø§Ù„ÛŒ: Ø§Ø¹ØªØ¨Ø§Ø± = ${card1.validate() ? 'âœ…' : 'âŒ'}`, card1.validate() ? 'error' : 'success');
                
                // ØªØ³Øª Û².Û²: flip Ø±ÙˆÛŒ Ú©Ø§Ø±Øª Ù†Ø§Ù…Ø¹ØªØ¨Ø±
                const flipResult = card1.flip();
                log(`ØªØ³Øª Û².Û² - flip Ú©Ø§Ø±Øª Ù†Ø§Ù…Ø¹ØªØ¨Ø±: ${flipResult ? 'âŒ' : 'âœ…'} (Ø¨Ø§ÛŒØ¯ false Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯)`, flipResult ? 'error' : 'success');
                
                // ØªØ³Øª Û².Û³: getFront Ø±ÙˆÛŒ Ú©Ø§Ø±Øª Ù†Ø§Ù…Ø¹ØªØ¨Ø±
                const front = card1.getFront();
                log(`ØªØ³Øª Û².Û³ - getFront: "${front}"`, front.includes('âŒ') ? 'success' : 'error');
                
                // ØªØ³Øª Û².Û´: getBack Ø±ÙˆÛŒ Ú©Ø§Ø±Øª Ù†Ø§Ù…Ø¹ØªØ¨Ø±
                const back = card1.getBack();
                log(`ØªØ³Øª Û².Û´ - getBack: "${back}"`, back.includes('âŒ') ? 'success' : 'error');

                const allPassed = !card1.validate() && !flipResult && front.includes('âŒ') && back.includes('âŒ');
                testResults.invalidCard = allPassed;
                
                document.getElementById('invalidCardResult').innerHTML = allPassed ? 
                    '<span class="success">âœ… Ù‡Ù…Ù‡ ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Øª Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯Ù†Ø¯</span>' : 
                    '<span class="error">âŒ Ø¨Ø±Ø®ÛŒ ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Øª Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯Ù†Ø¯</span>';
                
                log(`âœ… ØªØ³Øª Ú©Ø§Ø±Øª Ù†Ø§Ù…Ø¹ØªØ¨Ø± ${allPassed ? 'Ú¯Ø°Ø±Ø§Ù†Ø¯Ù‡ Ø´Ø¯' : 'Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯'}`, allPassed ? 'success' : 'error');
            } catch (error) {
                testResults.invalidCard = false;
                document.getElementById('invalidCardResult').innerHTML = `<span class="error">âŒ Ø®Ø·Ø§: ${error.message}</span>`;
                log(`âŒ Ø®Ø·Ø§ Ø¯Ø± ØªØ³Øª Ú©Ø§Ø±Øª Ù†Ø§Ù…Ø¹ØªØ¨Ø±: ${error.message}`, 'error');
            }
        }

        // ØªØ³Øª Û³: Ø¯Ø§Ø¯Ù‡ Ù†Ø§Ù‚Øµ
        function testIncompleteData() {
            log('ğŸ§ª Ø´Ø±ÙˆØ¹ ØªØ³Øª Ø¯Ø§Ø¯Ù‡ Ù†Ø§Ù‚Øµ...', 'info');
            
            try {
                // ØªØ³Øª Û³.Û±: Ú©Ø§Ø±Øª Ø¨Ø§ Ú©Ù„Ù…Ù‡ Ø¨Ø¯ÙˆÙ† ØªØ±Ø¬Ù…Ù‡
                const card1 = FlashCard.createPartial('Apple');
                log(`ØªØ³Øª Û³.Û± - ÙÙ‚Ø· Ú©Ù„Ù…Ù‡: Ø§Ø¹ØªØ¨Ø§Ø± = ${card1.validate() ? 'âŒ' : 'âœ…'}`, card1.validate() ? 'error' : 'success');
                
                // ØªØ³Øª Û³.Û²: checkAnswer Ø±ÙˆÛŒ Ú©Ø§Ø±Øª Ù†Ø§Ù‚Øµ
                const result1 = card1.checkAnswer('Ø³ÛŒØ¨');
                log(`ØªØ³Øª Û³.Û² - checkAnswer Ø±ÙˆÛŒ Ú©Ø§Ø±Øª Ù†Ø§Ù‚Øµ: ${result1.valid ? 'âŒ' : 'âœ…'} (Ø®Ø·Ø§: ${result1.error})`, result1.valid ? 'error' : 'success');
                
                // ØªØ³Øª Û³.Û³: Ú©Ø§Ø±Øª Ø¨Ø§ ØªØ±Ø¬Ù…Ù‡ Ø¨Ø¯ÙˆÙ† Ú©Ù„Ù…Ù‡
                const card2 = new FlashCard('', 'Ø³ÛŒØ¨');
                log(`ØªØ³Øª Û³.Û³ - ÙÙ‚Ø· ØªØ±Ø¬Ù…Ù‡: Ø§Ø¹ØªØ¨Ø§Ø± = ${card2.validate() ? 'âŒ' : 'âœ…'}`, card2.validate() ? 'error' : 'success');
                
                // ØªØ³Øª Û³.Û´: flip Ø±ÙˆÛŒ Ú©Ø§Ø±Øª Ù†Ø§Ù‚Øµ
                const flipResult = card2.flip();
                log(`ØªØ³Øª Û³.Û´ - flip Ú©Ø§Ø±Øª Ù†Ø§Ù‚Øµ: ${flipResult ? 'âŒ' : 'âœ…'}`, flipResult ? 'error' : 'success');

                const allPassed = !card1.validate() && !result1.valid && !card2.validate() && !flipResult;
                testResults.incompleteData = allPassed;
                
                document.getElementById('incompleteDataResult').innerHTML = allPassed ? 
                    '<span class="success">âœ… Ù‡Ù…Ù‡ ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø¯Ù‡ Ù†Ø§Ù‚Øµ Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯Ù†Ø¯</span>' : 
                    '<span class="error">âŒ Ø¨Ø±Ø®ÛŒ ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø¯Ù‡ Ù†Ø§Ù‚Øµ Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯Ù†Ø¯</span>';
                
                log(`âœ… ØªØ³Øª Ø¯Ø§Ø¯Ù‡ Ù†Ø§Ù‚Øµ ${allPassed ? 'Ú¯Ø°Ø±Ø§Ù†Ø¯Ù‡ Ø´Ø¯' : 'Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯'}`, allPassed ? 'success' : 'error');
            } catch (error) {
                testResults.incompleteData = false;
                document.getElementById('incompleteDataResult').innerHTML = `<span class="error">âŒ Ø®Ø·Ø§: ${error.message}</span>`;
                log(`âŒ Ø®Ø·Ø§ Ø¯Ø± ØªØ³Øª Ø¯Ø§Ø¯Ù‡ Ù†Ø§Ù‚Øµ: ${error.message}`, 'error');
            }
        }

        // ØªØ³Øª ÙÛŒÙ„Ø¯ Ú¯Ù…â€ŒØ´Ø¯Ù‡
        function testMissingField() {
            log('ğŸ§ª Ø´Ø±ÙˆØ¹ ØªØ³Øª ÙÛŒÙ„Ø¯ Ú¯Ù…â€ŒØ´Ø¯Ù‡...', 'info');
            
            try {
                // ØªØ³Øª Ø´ÛŒØ¡ Ø¨Ø§ Ø³Ø§Ø®ØªØ§Ø± Ù†Ø§Ù…Ø¹ØªØ¨Ø±
                const invalidObject = { text: 'Apple' }; // ÙØ§Ù‚Ø¯ word Ùˆ translation
                const card = Object.assign(new FlashCard(), invalidObject);
                
                const validateResult = card.validate();
                log(`ØªØ³Øª ÙÛŒÙ„Ø¯ Ú¯Ù…â€ŒØ´Ø¯Ù‡ - Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ: ${validateResult ? 'âŒ' : 'âœ…'}`, validateResult ? 'error' : 'success');
                
                testResults.incompleteData = testResults.incompleteData && !validateResult;
                document.getElementById('incompleteDataResult').innerHTML = !validateResult ? 
                    '<span class="success">âœ… ØªØ³Øª ÙÛŒÙ„Ø¯ Ú¯Ù…â€ŒØ´Ø¯Ù‡ Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯</span>' : 
                    '<span class="error">âŒ ØªØ³Øª ÙÛŒÙ„Ø¯ Ú¯Ù…â€ŒØ´Ø¯Ù‡ Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯</span>';
                
                log(`âœ… ØªØ³Øª ÙÛŒÙ„Ø¯ Ú¯Ù…â€ŒØ´Ø¯Ù‡ ${!validateResult ? 'Ú¯Ø°Ø±Ø§Ù†Ø¯Ù‡ Ø´Ø¯' : 'Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯'}`, !validateResult ? 'success' : 'error');
            } catch (error) {
                document.getElementById('incompleteDataResult').innerHTML = `<span class="error">âŒ Ø®Ø·Ø§: ${error.message}</span>`;
                log(`âŒ Ø®Ø·Ø§ Ø¯Ø± ØªØ³Øª ÙÛŒÙ„Ø¯ Ú¯Ù…â€ŒØ´Ø¯Ù‡: ${error.message}`, 'error');
            }
        }

        // ØªØ³Øª Û´: Ù†ÙˆØ¹ Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡
        function testUnknownType() {
            log('ğŸ§ª Ø´Ø±ÙˆØ¹ ØªØ³Øª Ù†ÙˆØ¹ Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡...', 'info');
            
            try {
                // ØªØ³Øª Û´.Û±: Ø´ÛŒØ¡ Ø¨Ø§ Ù†ÙˆØ¹ Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡
                const unknownObj = FlashCard.createUnknownType({ foo: 'bar' });
                log(`ØªØ³Øª Û´.Û± - Ù†ÙˆØ¹ Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡: Ø´ÛŒØ¡ = ${unknownObj.type}`, 'warning');
                
                // ØªØ³Øª Û´.Û²: ØªÙ„Ø§Ø´ Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† ÙÙ„Ø´ Ú©Ø§Ø±Øª
                let errorCaught = false;
                try {
                    unknownObj.flip?.();
                } catch (e) {
                    errorCaught = true;
                    log(`ØªØ³Øª Û´.Û² - Ø®Ø·Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ø§Ù†ØªØ¸Ø§Ø±: ${e.message}`, 'success');
                }
                
                // ØªØ³Øª Û´.Û³: ÙˆØ±ÙˆØ¯ÛŒ null
                const nullInput = null;
                log(`ØªØ³Øª Û´.Û³ - ÙˆØ±ÙˆØ¯ÛŒ null: ${nullInput === null ? 'âœ…' : 'âŒ'}`, nullInput === null ? 'success' : 'error');
                
                // ØªØ³Øª Û´.Û´: ÙˆØ±ÙˆØ¯ÛŒ undefined
                const undefinedInput = undefined;
                log(`ØªØ³Øª Û´.Û´ - ÙˆØ±ÙˆØ¯ÛŒ undefined: ${undefinedInput === undefined ? 'âœ…' : 'âŒ'}`, undefinedInput === undefined ? 'success' : 'error');

                const allPassed = errorCaught;
                testResults.unknownType = allPassed;
                
                document.getElementById('unknownTypeResult').innerHTML = allPassed ? 
                    '<span class="success">âœ… Ù‡Ù…Ù‡ ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ù†ÙˆØ¹ Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡ Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯Ù†Ø¯</span>' : 
                    '<span class="error">âŒ Ø¨Ø±Ø®ÛŒ ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ù†ÙˆØ¹ Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡ Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯Ù†Ø¯</span>';
                
                log(`âœ… ØªØ³Øª Ù†ÙˆØ¹ Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡ ${allPassed ? 'Ú¯Ø°Ø±Ø§Ù†Ø¯Ù‡ Ø´Ø¯' : 'Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯'}`, allPassed ? 'success' : 'error');
            } catch (error) {
                testResults.unknownType = false;
                document.getElementById('unknownTypeResult').innerHTML = `<span class="error">âŒ Ø®Ø·Ø§: ${error.message}</span>`;
                log(`âŒ Ø®Ø·Ø§ Ø¯Ø± ØªØ³Øª Ù†ÙˆØ¹ Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡: ${error.message}`, 'error');
            }
        }

        // Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø§Ø±Øª Ù…Ø¹ØªØ¨Ø±
        function createValidCard() {
            const card = new FlashCard('Book', 'Ú©ØªØ§Ø¨');
            log('âœ… Ú©Ø§Ø±Øª Ù…Ø¹ØªØ¨Ø± Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯: Book â†’ Ú©ØªØ§Ø¨', 'success');
            document.getElementById('invalidCardPreview').innerHTML = `
                <div class="front">Ú©Ù„Ù…Ù‡: "Book"</div>
                <div class="back">Ù¾Ø§Ø³Ø®: "Ú©ØªØ§Ø¨"</div>
            `;
        }

        // Ø±ÛŒØ³Øª ØªØ³Øª Ù¾Ø§Ø³Ø® Ø®Ø§Ù„ÛŒ
        function resetEmptyAnswer() {
            document.getElementById('emptyAnswerPreview').innerHTML = `
                <div class="front">Ú©Ù„Ù…Ù‡: "Apple"</div>
                <div class="back">Ù¾Ø§Ø³Ø®: "???"</div>
            `;
            document.getElementById('emptyAnswerResult').innerText = 'ØªØ³Øª Ø±ÛŒØ³Øª Ø´Ø¯';
            log('ğŸ”„ ØªØ³Øª Ù¾Ø§Ø³Ø® Ø®Ø§Ù„ÛŒ Ø±ÛŒØ³Øª Ø´Ø¯', 'warning');
        }

        // Ø§Ø¬Ø±Ø§ÛŒ Ù‡Ù…Ù‡ ØªØ³Øªâ€ŒÙ‡Ø§
        function runAllEdgeTests() {
            log('ğŸš€ Ø´Ø±ÙˆØ¹ Ø§Ø¬Ø±Ø§ÛŒ Ù‡Ù…Ù‡ ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ù„Ø¨Ù‡...', 'info');
            testEmptyAnswer();
            setTimeout(() => testInvalidCard(), 500);
            setTimeout(() => testIncompleteData(), 1000);
            setTimeout(() => testUnknownType(), 1500);
            setTimeout(() => log('ğŸ Ù‡Ù…Ù‡ ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ù„Ø¨Ù‡ Ú©Ø§Ù…Ù„ Ø´Ø¯Ù†Ø¯', 'success'), 2000);
        }

        // ØªÙ†Ø¸ÛŒÙ… Ø§ÙˆÙ„ÛŒÙ‡
        window.onload = function() {
            log('âœ… ØµÙØ­Ù‡ ØªØ³Øª Ù„Ø¨Ù‡â€ŒÙ‡Ø§ÛŒ ÙÙ„Ø´ Ú©Ø§Ø±Øª Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª', 'success');
        };
    </script>
</body>
</html>
