<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5, user-scalable=yes">
    <title>ØªØ³Øª Ø¯Ø³ØªÛŒ Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ù¾Ø§Ø³Ø® - Farsinglish</title>
    <style>
        body { font-family: Tahoma, Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 15px; background: #f5f5f5; }
        .header { background: #16a085; color: white; padding: 15px; border-radius: 15px; margin-bottom: 20px; text-align: center; }
        .test-section { background: white; border-radius: 12px; padding: 20px; margin-bottom: 20px; box-shadow: 0 3px 10px rgba(0,0,0,0.08); }
        h2 { font-size: 1.4rem; margin-top: 0; color: #2c3e50; border-bottom: 2px solid #ecf0f1; padding-bottom: 10px; }
        .scenario { background: #f8f9fa; padding: 15px; border-radius: 10px; margin-bottom: 15px; border-right: 4px solid #3498db; }
        button { background: #3498db; color: white; border: none; padding: 12px 20px; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; width: 100%; margin: 5px 0; transition: 0.2s; }
        button:hover { background: #2980b9; transform: scale(0.98); }
        .result-box { background: #e8f5e9; padding: 12px; border-radius: 8px; margin-top: 10px; font-size: 15px; }
        input { width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 16px; box-sizing: border-box; }
        .badge { display: inline-block; background: #e67e22; color: white; padding: 4px 10px; border-radius: 20px; font-size: 12px; margin-right: 10px; }
        .summary { background: #2c3e50; color: white; padding: 15px; border-radius: 12px; margin-top: 25px; }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ“ Farsinglish - ØªØ³Øª Ø¯Ø³ØªÛŒ Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ù¾Ø§Ø³Ø®</h1>
        <p>Ø¨Ø±Ø±Ø³ÛŒ case-insensitiveØŒ ØªØ§ÛŒÙ¾ÙˆØŒ Ù„ÙˆÙ†Ø§Ø´ØªØ§ÛŒÙ† Ùˆ Ø®Ø·Ø§Ù‡Ø§ÛŒ Ø±Ø§ÛŒØ¬</p>
    </div>

    <div class="test-section">
        <h2>ğŸ§ª Û±. Ù‡Ø³ØªÙ‡ Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ (Validator Engine)</h2>
        
        <div class="scenario">
            <h3>âœ… Ø³Ù†Ø§Ø±ÛŒÙˆ A: Ø­Ø³Ø§Ø³ÛŒØª Ø¨Ù‡ Ø­Ø±ÙˆÙ Ø¨Ø²Ø±Ú¯/Ú©ÙˆÚ†Ú©</h3>
            <p>Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­: <code>apple</code></p>
            <input type="text" id="inputCase" placeholder="Ù…Ø«Ø§Ù„: APPLE, Apple, aPpLe" value="APPLE">
            <button onclick="testCaseInsensitive()">â–¶ ØªØ³Øª Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ</button>
            <div id="resultCase" class="result-box">Ù…Ù†ØªØ¸Ø± Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øª...</div>
        </div>

        <div class="scenario">
            <h3>ğŸ”¤ Ø³Ù†Ø§Ø±ÛŒÙˆ B: ØªØ´Ø®ÛŒØµ ØªØ§ÛŒÙ¾Ùˆ (Ù„ÙˆÙ†Ø§Ø´ØªØ§ÛŒÙ†)</h3>
            <p>Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­: <code>beautiful</code></p>
            <input type="text" id="inputTypo" placeholder="Ù…Ø«Ø§Ù„: beatiful, beautful, beutiful" value="beautful">
            <button onclick="testTypo()">â–¶ ØªØ³Øª ØªØ´Ø®ÛŒØµ ØªØ§ÛŒÙ¾Ùˆ</button>
            <div id="resultTypo" class="result-box">Ù…Ù†ØªØ¸Ø± Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øª...</div>
            <p style="font-size: 13px; color: #7f8c8d;">âš¡ Ø¢Ø³ØªØ§Ù†Ù‡ Ø®Ø·Ø§: Ø­Ø¯Ø§Ú©Ø«Ø± Û² Ú©Ø§Ø±Ø§Ú©ØªØ± Ø§Ø®ØªÙ„Ø§Ù</p>
        </div>

        <div class="scenario">
            <h3>ğŸ”„ Ø³Ù†Ø§Ø±ÛŒÙˆ C: ÙØ§ØµÙ„Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø¶Ø§ÙÛŒ</h3>
            <p>Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­: <code>hello world</code></p>
            <input type="text" id="inputSpace" placeholder="Ù…Ø«Ø§Ù„: hello  world ,  hello world" value="hello  world">
            <button onclick="testExtraSpaces()">â–¶ ØªØ³Øª Ø­Ø°Ù ÙØ§ØµÙ„Ù‡ Ø§Ø¶Ø§ÙÛŒ</button>
            <div id="resultSpace" class="result-box">Ù…Ù†ØªØ¸Ø± Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øª...</div>
        </div>

        <div class="scenario">
            <h3>ğŸ”£ Ø³Ù†Ø§Ø±ÛŒÙˆ D: Ø¹Ù„Ø§Ø¦Ù… Ù†Ú¯Ø§Ø±Ø´ÛŒ</h3>
            <p>Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­: <code>don't</code></p>
            <input type="text" id="inputPunctuation" placeholder="Ù…Ø«Ø§Ù„: dont, donâ€™t, dont" value="dont">
            <button onclick="testPunctuation()">â–¶ ØªØ³Øª Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ú¯Ø±ÙØªÙ† Ø¢Ù¾Ø§Ø³ØªØ±ÙˆÙ</button>
            <div id="resultPunctuation" class="result-box">Ù…Ù†ØªØ¸Ø± Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øª...</div>
        </div>

        <div class="scenario">
            <h3>ğŸ¯ Ø³Ù†Ø§Ø±ÛŒÙˆ E: Ù¾Ø§Ø³Ø® Ú©Ø§Ù…Ù„Ø§Ù‹ ØµØ­ÛŒØ­</h3>
            <p>Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­: <code>university</code></p>
            <input type="text" id="inputExact" placeholder="university" value="university">
            <button onclick="testExactMatch()">â–¶ ØªØ³Øª ØªØ·Ø§Ø¨Ù‚ Ú©Ø§Ù…Ù„</button>
            <div id="resultExact" class="result-box">Ù…Ù†ØªØ¸Ø± Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øª...</div>
        </div>

        <div class="scenario">
            <h3>âŒ Ø³Ù†Ø§Ø±ÛŒÙˆ F: Ù¾Ø§Ø³Ø® Ú©Ø§Ù…Ù„Ø§Ù‹ ØºÙ„Ø·</h3>
            <p>Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­: <code>mother</code></p>
            <input type="text" id="inputWrong" placeholder="Ù…Ø«Ø§Ù„: father, sister" value="father">
            <button onclick="testWrongAnswer()">â–¶ ØªØ³Øª Ø±Ø¯ Ù¾Ø§Ø³Ø® ØºÙ„Ø·</button>
            <div id="resultWrong" class="result-box">Ù…Ù†ØªØ¸Ø± Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øª...</div>
        </div>
    </div>

    <div class="test-section">
        <h2>ğŸ“Š Û². ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ ØªØ±Ú©ÛŒØ¨ÛŒ Ùˆ Ù¾ÛŒØ´Ø±ÙØªÙ‡</h2>
        
        <div class="scenario">
            <h3>âš¡ Ø³Ù†Ø§Ø±ÛŒÙˆ G: ØªØ§ÛŒÙ¾Ùˆ + Ø­Ø±ÙˆÙ Ø¨Ø²Ø±Ú¯ + ÙØ§ØµÙ„Ù‡</h3>
            <p>Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­: <code>good morning</code></p>
            <input type="text" id="inputComplex" placeholder="Ù…Ø«Ø§Ù„: GOOD mornin , good  moring" value="GOOD mornin">
            <button onclick="testComplexScenario()">â–¶ ØªØ³Øª ØªØ±Ú©ÛŒØ¨ÛŒ</button>
            <div id="resultComplex" class="result-box">Ù…Ù†ØªØ¸Ø± Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øª...</div>
        </div>

        <div class="scenario">
            <h3>ğŸ“ Ø³Ù†Ø§Ø±ÛŒÙˆ H: ØªÙ†Ø¸ÛŒÙ… Ø¢Ø³ØªØ§Ù†Ù‡ Ø®Ø·Ø§</h3>
            <p>Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­: <code>accommodation</code></p>
            <label>Ø­Ø¯Ø§Ú©Ø«Ø± Ø§Ø®ØªÙ„Ø§Ù Ù…Ø¬Ø§Ø²: <input type="number" id="thresholdValue" min="1" max="5" value="2" style="width: 60px;"></label>
            <input type="text" id="inputThreshold" placeholder="acommodation, accomodation" value="acomodation">
            <button onclick="testThreshold()">â–¶ ØªØ³Øª Ø¨Ø§ Ø¢Ø³ØªØ§Ù†Ù‡ Ø¯Ù„Ø®ÙˆØ§Ù‡</button>
            <div id="resultThreshold" class="result-box">Ù…Ù†ØªØ¸Ø± Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øª...</div>
        </div>
    </div>

    <div class="summary" id="summaryBox">
        <h3>ğŸ“‹ Ú¯Ø²Ø§Ø±Ø´ ØªØ³Øª Ø¯Ø³ØªÛŒ</h3>
        <p>âœ… Ø³Ù†Ø§Ø±ÛŒÙˆÙ‡Ø§ÛŒ Ù…ÙˆÙÙ‚: Û° | âŒ Ù†Ø§Ù…ÙˆÙÙ‚: Û° | ğŸ§ª Ú©Ù„ ØªØ³Øªâ€ŒÙ‡Ø§: Û°</p>
        <p style="font-size: 14px;">Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ù‡Ø± Ø³Ù†Ø§Ø±ÛŒÙˆ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯ Ùˆ Ù†ØªÛŒØ¬Ù‡ Ø±Ø§ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù†Ù…Ø§ÛŒÛŒØ¯.</p>
    </div>

    <script>
        // -------------------- Ù‡Ø³ØªÙ‡ Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ (Validator Core) --------------------
        class AnswerValidator {
            // ØªØ·Ø§Ø¨Ù‚ Ø¨Ø¯ÙˆÙ† Ø¯Ø± Ù†Ø¸Ø± Ú¯Ø±ÙØªÙ† Ø­Ø±ÙˆÙ Ø¨Ø²Ø±Ú¯ Ùˆ Ú©ÙˆÚ†Ú©
            static isCaseInsensitiveMatch(userAnswer, correctAnswer) {
                if (!userAnswer || !correctAnswer) return false;
                return userAnswer.trim().toLowerCase() === correctAnswer.trim().toLowerCase();
            }

            // Ø­Ø°Ù ÙØ§ØµÙ„Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø¶Ø§ÙÛŒ
            static normalizeSpaces(text) {
                return text.trim().replace(/\s+/g, ' ');
            }

            // Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ú¯Ø±ÙØªÙ† Ø¹Ù„Ø§Ø¦Ù… Ù†Ú¯Ø§Ø±Ø´ÛŒ Ø±Ø§ÛŒØ¬
            static removePunctuation(text) {
                return text.replace(/[.,!?;:'"`â€˜â€™â€œâ€\-_()]/g, '');
            }

            // Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… ÙØ§ØµÙ„Ù‡ Ù„ÙˆÙ†Ø§Ø´ØªØ§ÛŒÙ† (Ù…Ø­Ø§Ø³Ø¨Ù‡ ØªØ¹Ø¯Ø§Ø¯ ØªØºÛŒÛŒØ±Ø§Øª)
            static levenshteinDistance(a, b) {
                const matrix = [];
                for (let i = 0; i <= b.length; i++) matrix[i] = [i];
                for (let j = 0; j <= a.length; j++) matrix[0][j] = j;

                for (let i = 1; i <= b.length; i++) {
                    for (let j = 1; j <= a.length; j++) {
                        if (b.charAt(i-1) === a.charAt(j-1)) {
                            matrix[i][j] = matrix[i-1][j-1];
                        } else {
                            matrix[i][j] = Math.min(
                                matrix[i-1][j-1] + 1,
                                matrix[i][j-1] + 1,
                                matrix[i-1][j] + 1
                            );
                        }
                    }
                }
                return matrix[b.length][a.length];
            }

            // ØªØ´Ø®ÛŒØµ ØªØ§ÛŒÙ¾Ùˆ Ø¨Ø§ Ø¢Ø³ØªØ§Ù†Ù‡ Ø®Ø·Ø§
            static isTypoMatch(userAnswer, correctAnswer, threshold = 2) {
                if (!userAnswer || !correctAnswer) return false;
                const normalizedUser = this.normalizeSpaces(userAnswer).toLowerCase();
                const normalizedCorrect = this.normalizeSpaces(correctAnswer).toLowerCase();
                const distance = this.levenshteinDistance(normalizedUser, normalizedCorrect);
                return distance <= threshold;
            }

            // Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ù†Ù‡Ø§ÛŒÛŒ (ØªØ±Ú©ÛŒØ¨ÛŒ)
            static validateAnswer(userAnswer, correctAnswer, options = {}) {
                const { 
                    caseInsensitive = true, 
                    ignorePunctuation = true,
                    typoThreshold = 2,
                    normalizeSpaces = true 
                } = options;

                let processedUser = userAnswer || '';
                let processedCorrect = correctAnswer || '';

                if (normalizeSpaces) {
                    processedUser = this.normalizeSpaces(processedUser);
                    processedCorrect = this.normalizeSpaces(processedCorrect);
                }

                if (caseInsensitive) {
                    processedUser = processedUser.toLowerCase();
                    processedCorrect = processedCorrect.toLowerCase();
                }

                if (ignorePunctuation) {
                    processedUser = this.removePunctuation(processedUser);
                    processedCorrect = this.removePunctuation(processedCorrect);
                }

                // Ø¨Ø±Ø±Ø³ÛŒ ØªØ·Ø§Ø¨Ù‚ Ú©Ø§Ù…Ù„
                if (processedUser === processedCorrect) {
                    return { isValid: true, method: 'exact', score: 100 };
                }

                // Ø¨Ø±Ø±Ø³ÛŒ ØªØ§ÛŒÙ¾Ùˆ
                const distance = this.levenshteinDistance(processedUser, processedCorrect);
                if (distance <= typoThreshold) {
                    return { 
                        isValid: true, 
                        method: 'typo', 
                        score: Math.max(70, 100 - (distance * 15)),
                        distance 
                    };
                }

                return { isValid: false, method: 'wrong', score: 0, distance };
            }
        }

        // -------------------- ØªÙˆØ§Ø¨Ø¹ ØªØ³Øª Ø¯Ø³ØªÛŒ --------------------
        function testCaseInsensitive() {
            const input = document.getElementById('inputCase').value;
            const isValid = AnswerValidator.isCaseInsensitiveMatch(input, 'apple');
            const resultBox = document.getElementById('resultCase');
            resultBox.innerHTML = `
                <strong>ğŸ” Ù†ØªÛŒØ¬Ù‡:</strong> ${isValid ? 'âœ… ØµØ­ÛŒØ­' : 'âŒ Ù†Ø§Ø¯Ø±Ø³Øª'}<br>
                <strong>ğŸ“ Ù¾Ø§Ø³Ø® Ú©Ø§Ø±Ø¨Ø±:</strong> "${input}"<br>
                <strong>ğŸ¯ Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­:</strong> "apple"<br>
                <strong>âš™ï¸ Ø±ÙˆØ´:</strong> Ø¹Ø¯Ù… Ø­Ø³Ø§Ø³ÛŒØª Ø¨Ù‡ Ø­Ø±ÙˆÙ Ø¨Ø²Ø±Ú¯/Ú©ÙˆÚ†Ú©
            `;
            resultBox.style.background = isValid ? '#e8f5e9' : '#ffebee';
            updateSummary();
        }

        function testTypo() {
            const input = document.getElementById('inputTypo').value;
            const result = AnswerValidator.validateAnswer(input, 'beautiful', { typoThreshold: 2 });
            const resultBox = document.getElementById('resultTypo');
            resultBox.innerHTML = `
                <strong>ğŸ” Ù†ØªÛŒØ¬Ù‡:</strong> ${result.isValid ? 'âœ… ØµØ­ÛŒØ­ (Ø¨Ø§ Ø§Ø±ÙØ§Ù‚)' : 'âŒ Ù†Ø§Ø¯Ø±Ø³Øª'}<br>
                <strong>ğŸ“ Ù¾Ø§Ø³Ø® Ú©Ø§Ø±Ø¨Ø±:</strong> "${input}"<br>
                <strong>ğŸ¯ Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­:</strong> "beautiful"<br>
                <strong>ğŸ“ ÙØ§ØµÙ„Ù‡ Ù„ÙˆÙ†Ø§Ø´ØªØ§ÛŒÙ†:</strong> ${result.distance || 0}<br>
                <strong>ğŸ’¯ Ø§Ù…ØªÛŒØ§Ø²:</strong> ${result.score || 0}
            `;
            resultBox.style.background = result.isValid ? '#e8f5e9' : '#ffebee';
            updateSummary();
        }

        function testExtraSpaces() {
            const input = document.getElementById('inputSpace').value;
            const normalized = AnswerValidator.normalizeSpaces(input);
            const isValid = normalized.toLowerCase() === 'hello world';
            const resultBox = document.getElementById('resultSpace');
            resultBox.innerHTML = `
                <strong>ğŸ” Ù†ØªÛŒØ¬Ù‡:</strong> ${isValid ? 'âœ… ØµØ­ÛŒØ­' : 'âŒ Ù†Ø§Ø¯Ø±Ø³Øª'}<br>
                <strong>ğŸ“ Ù¾Ø§Ø³Ø® Ú©Ø§Ø±Ø¨Ø±:</strong> "${input}"<br>
                <strong>ğŸ§¹ Ù¾Ø³ Ø§Ø² Ù†Ø±Ù…Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ:</strong> "${normalized}"<br>
                <strong>ğŸ¯ Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­:</strong> "hello world"
            `;
            resultBox.style.background = isValid ? '#e8f5e9' : '#ffebee';
            updateSummary();
        }

        function testPunctuation() {
            const input = document.getElementById('inputPunctuation').value;
            const withoutPunct = AnswerValidator.removePunctuation(input).toLowerCase();
            const isValid = withoutPunct === 'dont' || withoutPunct === 'don\'t' || withoutPunct === 'dont';
            const resultBox = document.getElementById('resultPunctuation');
            resultBox.innerHTML = `
                <strong>ğŸ” Ù†ØªÛŒØ¬Ù‡:</strong> ${isValid ? 'âœ… ØµØ­ÛŒØ­' : 'âŒ Ù†Ø§Ø¯Ø±Ø³Øª'}<br>
                <strong>ğŸ“ Ù¾Ø§Ø³Ø® Ú©Ø§Ø±Ø¨Ø±:</strong> "${input}"<br>
                <strong>ğŸ§¹ Ø¨Ø¯ÙˆÙ† Ø¹Ù„Ø§Ø¦Ù… Ù†Ú¯Ø§Ø±Ø´ÛŒ:</strong> "${withoutPunct}"<br>
                <strong>ğŸ¯ Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­:</strong> "don't"
            `;
            resultBox.style.background = isValid ? '#e8f5e9' : '#ffebee';
            updateSummary();
        }

        function testExactMatch() {
            const input = document.getElementById('inputExact').value;
            const isValid = AnswerValidator.validateAnswer(input, 'university', { typoThreshold: 0 }).isValid;
            const resultBox = document.getElementById('resultExact');
            resultBox.innerHTML = `
                <strong>ğŸ” Ù†ØªÛŒØ¬Ù‡:</strong> ${isValid ? 'âœ… ØµØ­ÛŒØ­' : 'âŒ Ù†Ø§Ø¯Ø±Ø³Øª'}<br>
                <strong>ğŸ“ Ù¾Ø§Ø³Ø® Ú©Ø§Ø±Ø¨Ø±:</strong> "${input}"<br>
                <strong>ğŸ¯ Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­:</strong> "university"
            `;
            resultBox.style.background = isValid ? '#e8f5e9' : '#ffebee';
            updateSummary();
        }

        function testWrongAnswer() {
            const input = document.getElementById('inputWrong').value;
            const isValid = AnswerValidator.validateAnswer(input, 'mother', { typoThreshold: 1 }).isValid;
            const resultBox = document.getElementById('resultWrong');
            resultBox.innerHTML = `
                <strong>ğŸ” Ù†ØªÛŒØ¬Ù‡:</strong> ${isValid ? 'âš ï¸ Ø§Ø´ØªØ¨Ø§Ù‡ (Ø¨Ø§ÛŒØ¯ Ø±Ø¯ Ø´ÙˆØ¯)' : 'âœ… Ø±Ø¯ Ø´Ø¯ (ØµØ­ÛŒØ­)'}<br>
                <strong>ğŸ“ Ù¾Ø§Ø³Ø® Ú©Ø§Ø±Ø¨Ø±:</strong> "${input}"<br>
                <strong>ğŸ¯ Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­:</strong> "mother"
            `;
            resultBox.style.background = !isValid ? '#e8f5e9' : '#ffebee';
            updateSummary();
        }

        function testComplexScenario() {
            const input = document.getElementById('inputComplex').value;
            const result = AnswerValidator.validateAnswer(input, 'good morning', { typoThreshold: 2 });
            const resultBox = document.getElementById('resultComplex');
            resultBox.innerHTML = `
                <strong>ğŸ” Ù†ØªÛŒØ¬Ù‡:</strong> ${result.isValid ? 'âœ… ØµØ­ÛŒØ­ (ØªØ±Ú©ÛŒØ¨ÛŒ)' : 'âŒ Ù†Ø§Ø¯Ø±Ø³Øª'}<br>
                <strong>ğŸ“ Ù¾Ø§Ø³Ø® Ú©Ø§Ø±Ø¨Ø±:</strong> "${input}"<br>
                <strong>ğŸ¯ Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­:</strong> "good morning"<br>
                <strong>ğŸ“ ÙØ§ØµÙ„Ù‡:</strong> ${result.distance || 0}<br>
                <strong>âš™ï¸ Ø±ÙˆØ´:</strong> ${result.method}
            `;
            resultBox.style.background = result.isValid ? '#e8f5e9' : '#ffebee';
            updateSummary();
        }

        function testThreshold() {
            const input = document.getElementById('inputThreshold').value;
            const threshold = parseInt(document.getElementById('thresholdValue').value) || 2;
            const result = AnswerValidator.validateAnswer(input, 'accommodation', { typoThreshold: threshold });
            const resultBox = document.getElementById('resultThreshold');
            resultBox.innerHTML = `
                <strong>ğŸ” Ù†ØªÛŒØ¬Ù‡:</strong> ${result.isValid ? 'âœ… ØµØ­ÛŒØ­' : 'âŒ Ù†Ø§Ø¯Ø±Ø³Øª'}<br>
                <strong>ğŸ“ Ù¾Ø§Ø³Ø® Ú©Ø§Ø±Ø¨Ø±:</strong> "${input}"<br>
                <strong>ğŸ¯ Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­:</strong> "accommodation"<br>
                <strong>ğŸ“ ÙØ§ØµÙ„Ù‡:</strong> ${result.distance || 0}<br>
                <strong>âš™ï¸ Ø¢Ø³ØªØ§Ù†Ù‡:</strong> ${threshold} Ú©Ø§Ø±Ø§Ú©ØªØ±
            `;
            resultBox.style.background = result.isValid ? '#e8f5e9' : '#ffebee';
            updateSummary();
        }

        function updateSummary() {
            const results = document.querySelectorAll('.result-box');
            let success = 0, fail = 0;
            results.forEach(r => {
                if (r.style.background === 'rgb(232, 245, 233)' || r.innerHTML.includes('âœ…')) success++;
                else if (r.style.background === 'rgb(255, 235, 238)') fail++;
            });
            
            document.getElementById('summaryBox').innerHTML = `
                <h3>ğŸ“‹ Ú¯Ø²Ø§Ø±Ø´ ØªØ³Øª Ø¯Ø³ØªÛŒ</h3>
                <p>âœ… Ø³Ù†Ø§Ø±ÛŒÙˆÙ‡Ø§ÛŒ Ù…ÙˆÙÙ‚: ${success} | âŒ Ù†Ø§Ù…ÙˆÙÙ‚: ${fail} | ğŸ§ª Ø§Ø¬Ø±Ø§ Ø´Ø¯Ù‡: ${success+fail}</p>
                <p style="font-size: 14px;">ğŸ”¹ Ù‡Ø± Ø³Ù†Ø§Ø±ÛŒÙˆ Ø±Ø§ Ø¯Ø³ØªÛŒ ØªØ³Øª Ú©Ù†ÛŒØ¯ Ùˆ Ù†ØªÛŒØ¬Ù‡ Ø±Ø§ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù†Ù…Ø§ÛŒÛŒØ¯.</p>
            `;
        }

        // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¯Ú©Ù…Ù‡ Ø±ÛŒØ³Øª
        function resetAll() {
            document.querySelectorAll('input').forEach(i => i.value = '');
            document.querySelectorAll('.result-box').forEach(r => {
                r.innerHTML = 'Ù…Ù†ØªØ¸Ø± Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øª...';
                r.style.background = '#e8f5e9';
            });
            updateSummary();
        }
    </script>

    <div style="display: flex; gap: 10px; margin-top: 20px;">
        <button onclick="resetAll()" style="background: #95a5a6;">ğŸ”„ Ø±ÛŒØ³Øª Ù‡Ù…Ù‡</button>
        <button onclick="window.location.reload()" style="background: #e67e22;">ğŸ”„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø¬Ø¯Ø¯</button>
    </div>
    
    <div style="text-align: center; margin-top: 30px; color: #7f8c8d; font-size: 12px;">
        Farsinglish - ØªØ³Øª Ø¯Ø³ØªÛŒ Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ù¾Ø§Ø³Ø® | Ù†Ø³Ø®Ù‡ 1.0 | Ø§Ø¬Ø±Ø§ Ø¯Ø± Ù…Ø±ÙˆØ±Ú¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„
    </div>
</body>
</html>
